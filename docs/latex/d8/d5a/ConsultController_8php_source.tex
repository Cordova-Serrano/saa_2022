\hypertarget{ConsultController_8php_source}{}\doxysection{Consult\+Controller.\+php}
\label{ConsultController_8php_source}\index{app/Http/Controllers/ConsultController.php@{app/Http/Controllers/ConsultController.php}}
\mbox{\hyperlink{ConsultController_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00001}00001 <?php}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00003}00003 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceApp_1_1Http_1_1Controllers}{App\(\backslash\)Http\(\backslash\)Controllers}};}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00005}00005 use Illuminate\(\backslash\)Http\(\backslash\)Request;}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00006}00006 use \mbox{\hyperlink{classApp_1_1Models_1_1Student}{App\(\backslash\)Models\(\backslash\)Student}};}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00007}00007 use \mbox{\hyperlink{classApp_1_1Models_1_1Semester}{App\(\backslash\)Models\(\backslash\)Semester}};}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00008}00008 use \mbox{\hyperlink{classApp_1_1Models_1_1Career}{App\(\backslash\)Models\(\backslash\)Career}};}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00009}00009 use DataTables;}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00011}\mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController}{00011}} \textcolor{keyword}{class }\mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController}{ConsultController}} \textcolor{keyword}{extends} \mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1Controller}{Controller}}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00012}00012 \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00013}\mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_a539f813cfe9e4dc474670227ddd68259}{00013}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_a539f813cfe9e4dc474670227ddd68259}{\_\_construct}}()}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00014}00014     \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00015}00015         \$this-\/>middleware(\textcolor{stringliteral}{'auth'});}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00016}00016     \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00017}00017     }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00018}\mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_a829b9230bd869637dbccc0f2e23055a6}{00018}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_a829b9230bd869637dbccc0f2e23055a6}{index}}(Request \$request)}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00019}00019     \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00020}00020         \textcolor{keywordflow}{if} (\$request-\/>ajax()) \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00021}00021             \$model = Student::join(\textcolor{stringliteral}{'student\_data\_semester'}, \textcolor{stringliteral}{'student\_data\_semester.student\_id'}, \textcolor{charliteral}{'='}, \textcolor{stringliteral}{'students.id'})}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00022}00022                 -\/>join(\textcolor{stringliteral}{'data'}, \textcolor{stringliteral}{'data.id'}, \textcolor{charliteral}{'='}, \textcolor{stringliteral}{'student\_data\_semester.data\_id'})}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00023}00023                 -\/>get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00025}00025             \textcolor{keywordflow}{return} DataTables::of(\$model)-\/>toJson();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00026}00026         \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00027}00027         \textcolor{comment}{//Recuperamos los semestres y carreras}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00028}00028         \$semesters = Semester::get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00029}00029         \$careers = Career::get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00030}00030         \$gen = Student::orderBy(\textcolor{stringliteral}{'generation'}, \textcolor{stringliteral}{'asc'})-\/>select(\textcolor{stringliteral}{'generation'})-\/>distinct()-\/>get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00031}00031         \textcolor{comment}{//\$generation = DataTables::of(\$gen)-\/>toJson();}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00032}00032         \textcolor{keywordflow}{return} view(\textcolor{stringliteral}{'consult.index'}, compact(\textcolor{stringliteral}{'semesters'}, \textcolor{stringliteral}{'careers'},\textcolor{stringliteral}{'gen'}));}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00033}00033     \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00035}\mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_ab68b1480ca904e4522c427ac80e7ce82}{00035}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_ab68b1480ca904e4522c427ac80e7ce82}{loadSemester}}(Request \$request)}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00036}00036     \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00037}00037         \textcolor{keywordflow}{if} (\$request-\/>ajax()) \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00038}00038             \$data\_semester = Student::join(\textcolor{stringliteral}{'student\_data\_semester'}, \textcolor{stringliteral}{'student\_data\_semester.student\_id'}, \textcolor{charliteral}{'='}, \textcolor{stringliteral}{'students.id'})}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00039}00039                 -\/>where(\textcolor{stringliteral}{'student\_data\_semester.semester\_id'}, \textcolor{charliteral}{'='}, \$request-\/>semester\_id)}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00040}00040                 -\/>join(\textcolor{stringliteral}{'data'}, \textcolor{stringliteral}{'data.id'}, \textcolor{charliteral}{'='}, \textcolor{stringliteral}{'student\_data\_semester.data\_id'})-\/>get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00041}00041             \textcolor{keywordflow}{return} \$data\_semester;}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00042}00042         \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00043}00043     \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00045}\mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_a2a6799bea8d43ac45a6cab9a77b5c39c}{00045}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{classApp_1_1Http_1_1Controllers_1_1ConsultController_a2a6799bea8d43ac45a6cab9a77b5c39c}{test}}(Request \$request)}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00046}00046     \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00047}00047         \textcolor{keywordflow}{if} (\$request-\/>ajax()) \{}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00048}00048             \$model = Student::join(\textcolor{stringliteral}{'student\_data\_semester'}, \textcolor{stringliteral}{'student\_data\_semester.student\_id'}, \textcolor{charliteral}{'='}, \textcolor{stringliteral}{'students.id'})}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00049}00049                 -\/>join(\textcolor{stringliteral}{'data'}, \textcolor{stringliteral}{'data.id'}, \textcolor{charliteral}{'='}, \textcolor{stringliteral}{'student\_data\_semester.data\_id'})}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00050}00050                 -\/>get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00052}00052             \textcolor{keywordflow}{return} DataTables::of(\$model)-\/>toJson();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00053}00053         \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00054}00054         \textcolor{comment}{//Recuperamos los semestres y carreras}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00055}00055         \$semesters = Semester::get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00056}00056         \$careers = Career::get();}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00057}00057         \textcolor{keywordflow}{return} view(\textcolor{stringliteral}{'test.test'}, compact(\textcolor{stringliteral}{'semesters'}, \textcolor{stringliteral}{'careers'}));}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00058}00058     \}}
\DoxyCodeLine{\Hypertarget{ConsultController_8php_source_l00059}00059 \}}

\end{DoxyCode}
