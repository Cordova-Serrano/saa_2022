\hypertarget{graph__api_8py_source}{}\doxysection{graph\+\_\+api.\+py}
\label{graph__api_8py_source}\index{graph/graph\_api.py@{graph/graph\_api.py}}
\mbox{\hyperlink{graph__api_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00001}\mbox{\hyperlink{namespacegraph__api}{00001}} \textcolor{stringliteral}{"{}"{}"{}@package graph\_api}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00002}00002 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00003}00003 \textcolor{stringliteral}{@brief Python server for the graph API.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00004}00004 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00005}00005 \textcolor{stringliteral}{This module contains the code for the graph API, which is used to generate}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00006}00006 \textcolor{stringliteral}{the graphs for the students' information.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00007}00007 \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00009}00009 \textcolor{keyword}{import} pandas \textcolor{keyword}{as} pd}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00010}00010 \textcolor{keyword}{import} plotly.express \textcolor{keyword}{as} px}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00011}00011 \textcolor{keyword}{from} fastapi \textcolor{keyword}{import} FastAPI}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00012}00012 \textcolor{keyword}{from} fastapi.middleware.cors \textcolor{keyword}{import} CORSMiddleware}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00013}00013 \textcolor{keyword}{from} pydantic \textcolor{keyword}{import} BaseModel}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00014}00014 \textcolor{keyword}{from} starlette.responses \textcolor{keyword}{import} RedirectResponse}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00016}\mbox{\hyperlink{namespacegraph__api_a693a88a80afce44360b51da9cd8d4f7f}{00016}} graphAPI = FastAPI()}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00018}00018 graphAPI.add\_middleware(}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00019}00019     CORSMiddleware,}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00020}\mbox{\hyperlink{namespacegraph__api_abdb5cf0082d034e3507501d3e5fa379f}{00020}}     allow\_origins=[\textcolor{stringliteral}{"{}*"{}}],}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00021}\mbox{\hyperlink{namespacegraph__api_af62ec03b4a05cc8b7635b19de57fb4e5}{00021}}     allow\_credentials=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00022}\mbox{\hyperlink{namespacegraph__api_af86a38f8b6addee3c19bfc76f76ae8aa}{00022}}     allow\_methods=[\textcolor{stringliteral}{"{}*"{}}],}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00023}\mbox{\hyperlink{namespacegraph__api_a0bbf491b4c8d30f79ac2fc1b3793a059}{00023}}     allow\_headers=[\textcolor{stringliteral}{"{}*"{}}],}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00024}00024 )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00027}00027 \textcolor{preprocessor}{@graphAPI.get("{}/"{})}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00028}00028 \textcolor{keyword}{async def }\mbox{\hyperlink{namespacegraph__api_a818636356dc2c78613b59afcf44008b5}{root}}():}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00029}00029     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00030}00030 \textcolor{stringliteral}{    When the server }\textcolor{keywordflow}{is} running, the root path will redirect to}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00031}00031     the OpenAPI docs generated by FastAPI.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00032}\mbox{\hyperlink{namespacegraph__api_a818636356dc2c78613b59afcf44008b5}{00032}}     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00033}00033 \textcolor{stringliteral}{    }\textcolor{keywordflow}{return} RedirectResponse(url=\textcolor{stringliteral}{"{}/docs"{}})}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00036}00036 \textcolor{keyword}{class }\mbox{\hyperlink{classgraph__api_1_1Student}{Student}}(BaseModel):}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00037}00037     \textcolor{stringliteral}{"{}"{}"{}Data model containing the student's relevant information.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00038}00038 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00039}00039 \textcolor{stringliteral}{    Attributes:}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00040}\mbox{\hyperlink{classgraph__api_1_1Student}{00040}} \textcolor{stringliteral}{        name (str): Student name.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00041}00041 \textcolor{stringliteral}{        uaslp\_key (str): Student UASLP key, unique identifier.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00042}00042 \textcolor{stringliteral}{        large\_key (str): Student large key, }\textcolor{keyword}{as} defined \textcolor{keywordflow}{in} the docs.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00043}00043         status (str): Student status, either \textcolor{stringliteral}{"{}INSCRITO"{}} \textcolor{keywordflow}{or} \textcolor{stringliteral}{"{}NO INSCRITO"{}}.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00044}00044         semesters\_completed (int): Number of semesters completed.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00045}00045         creds\_per\_semester (int): Number of credits per semester.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00046}00046         app\_average (float): Student average approvatory. grade.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00047}00047     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00048}00048 \textcolor{stringliteral}{    name: str}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00049}00049 \textcolor{stringliteral}{    uaslp\_key: str}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00050}00050 \textcolor{stringliteral}{    large\_key: str}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00051}00051 \textcolor{stringliteral}{    status: str}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00052}00052 \textcolor{stringliteral}{    generation: str}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00053}00053 \textcolor{stringliteral}{    semesters\_completed: int}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00054}00054 \textcolor{stringliteral}{    creds\_per\_semester: float}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00055}00055 \textcolor{stringliteral}{    app\_average: float}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00056}00056 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00057}00057 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00058}00058 \textcolor{stringliteral}{}\textcolor{keyword}{class }\mbox{\hyperlink{classgraph__api_1_1StudentList}{StudentList}}(BaseModel):}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00059}00059     \textcolor{stringliteral}{"{}"{}"{}List of students}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00060}00060 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00061}00061 \textcolor{stringliteral}{    Permits to simplify the API call, }\textcolor{keyword}{as} well \textcolor{keyword}{as} the pydantic validation.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00063}00063     Attributes:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00064}00064         records (list): List of students.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00065}00065     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00066}00066 \textcolor{stringliteral}{    records: list[Student]}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00067}00067 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00068}00068 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00069}00069 \textcolor{stringliteral}{}\textcolor{keyword}{def }\mbox{\hyperlink{namespacegraph__api_aaf5f12f4b2b1352aa0b8094a08453bc4}{get\_dataframe}}(student\_list: StudentList) -\/> pd.DataFrame:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00070}00070     \textcolor{stringliteral}{"{}"{}"{}Converts a list of students into a pandas DataFrame.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00071}00071 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00072}00072 \textcolor{stringliteral}{    Converts the list of students into a pandas DataFrame, }\textcolor{keywordflow}{and} also calculates:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00073}00073         -\/ `cred\_app\_acum`, which \textcolor{keywordflow}{is} the total number of credits approved}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00074}00074         by the student.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00075}00075         -\/ `cred\_rezago`, which \textcolor{keywordflow}{is} the number of credits behind the student}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00076}00076         \textcolor{keywordflow}{is} compared to the expected number of credits.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00077}00077         -\/ `nivel\_rezago`, which \textcolor{keywordflow}{is} the level of delay of the student, either}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00078}\mbox{\hyperlink{classgraph__api_1_1StudentList}{00078}}         \textcolor{stringliteral}{"{}Sin rezago"{}}, \textcolor{stringliteral}{"{}Rezago leve"{}} \textcolor{keywordflow}{or} \textcolor{stringliteral}{"{}Rezago grave"{}}.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00080}00080     Args:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00081}00081         student\_list (StudentList): List of students.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00083}00083     Returns:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00084}00084         pd.DataFrame: DataFrame containing the students\textcolor{stringliteral}{' information.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00085}00085 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00086}00086 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00087}00087 \textcolor{stringliteral}{    data\_frame = pd.DataFrame.from\_records(}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00088}00088 \textcolor{stringliteral}{        map(}\textcolor{keyword}{lambda} student: student.dict(), student\_list.records)}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00089}00089     )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00091}00091     data\_frame[\textcolor{stringliteral}{"{}cred\_app\_acum"{}}] = (}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00092}00092         data\_frame[\textcolor{stringliteral}{"{}semesters\_completed"{}}] * data\_frame[\textcolor{stringliteral}{"{}creds\_per\_semester"{}}]}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00093}00093     )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00095}00095     data\_frame[\textcolor{stringliteral}{"{}cred\_rezago"{}}] = (}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00096}00096         data\_frame[\textcolor{stringliteral}{"{}semesters\_completed"{}}] * 45 -\/ data\_frame[\textcolor{stringliteral}{"{}cred\_app\_acum"{}}]}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00097}00097     )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00099}00099     data\_frame[\textcolor{stringliteral}{"{}nivel\_rezago"{}}] = data\_frame[\textcolor{stringliteral}{"{}cred\_rezago"{}}].apply(}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00100}00100         \textcolor{keyword}{lambda} cred\_rezago: (}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00101}\mbox{\hyperlink{namespacegraph__api_aaf5f12f4b2b1352aa0b8094a08453bc4}{00101}}             \textcolor{stringliteral}{"{}Sin rezago"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00102}00102             \textcolor{keywordflow}{if} cred\_rezago <= 0}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00103}00103             \textcolor{keywordflow}{else} \textcolor{stringliteral}{"{}Rezago leve"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00104}00104             \textcolor{keywordflow}{if} cred\_rezago <= 20}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00105}00105             \textcolor{keywordflow}{else} \textcolor{stringliteral}{"{}Rezago grave"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00106}00106         )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00107}00107     )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00109}00109     \textcolor{keywordflow}{return} data\_frame}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00111}00111 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00112}00112 \textcolor{preprocessor}{@graphAPI.post("{}/graph/scatter"{})}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00113}00113 \textcolor{keyword}{async def }\mbox{\hyperlink{namespacegraph__api_a19c2fc0e6477723268221338fb9ac2bf}{scatter\_plot}}(data: StudentList):}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00114}00114     \textcolor{stringliteral}{"{}"{}"{}Generates a scatter plot.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00115}00115 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00116}00116 \textcolor{stringliteral}{    Generates a scatter plot }\textcolor{keywordflow}{for} the students\textcolor{stringliteral}{' approved credits and}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00117}00117 \textcolor{stringliteral}{    their average approvatory grade.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00118}00118 \textcolor{stringliteral}{    The plot }\textcolor{keywordflow}{is} generated using plotly.express.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00120}00120     Args:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00121}00121         data (StudentList): List of students.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00123}00123     Returns:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00124}00124         str: JSON containing the information to render the plot.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00125}00125     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00126}00126 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00127}00127 \textcolor{stringliteral}{    data\_frame = \mbox{\hyperlink{namespacegraph__api_aaf5f12f4b2b1352aa0b8094a08453bc4}{get\_dataframe}}(data)}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00128}00128 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00129}00129 \textcolor{stringliteral}{    fig = px.scatter(}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00130}00130 \textcolor{stringliteral}{        data\_frame,}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00131}00131 \textcolor{stringliteral}{        x="{}cred\_app\_acum"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00132}00132         y=\textcolor{stringliteral}{"{}app\_average"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00133}00133         labels=\{}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00134}00134             \textcolor{stringliteral}{"{}cred\_app\_acum"{}}: \textcolor{stringliteral}{"{}Créditos aprobados acumulados"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00135}00135             \textcolor{stringliteral}{"{}app\_average"{}}: \textcolor{stringliteral}{"{}Promedio aprobatorio"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00136}00136             \textcolor{stringliteral}{"{}generation"{}}: \textcolor{stringliteral}{"{}Generación"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00137}00137             \textcolor{stringliteral}{"{}status"{}}: \textcolor{stringliteral}{"{}Estatus"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00138}00138             \textcolor{stringliteral}{"{}name"{}}: \textcolor{stringliteral}{"{}Nombre"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00139}00139             \textcolor{stringliteral}{"{}uaslp\_key"{}}: \textcolor{stringliteral}{"{}Clave única"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00140}00140             \textcolor{stringliteral}{"{}large\_key"{}}: \textcolor{stringliteral}{"{}Clave larga de la facultad"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00141}\mbox{\hyperlink{namespacegraph__api_a19c2fc0e6477723268221338fb9ac2bf}{00141}}             \textcolor{stringliteral}{"{}color"{}}: \textcolor{stringliteral}{"{}Generación"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00142}00142         \},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00143}00143         color=\textcolor{stringliteral}{"{}generation"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00144}00144         color\_discrete\_sequence=px.colors.qualitative.G10,}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00145}00145         hover\_name=\textcolor{stringliteral}{"{}name"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00146}00146         hover\_data=[\textcolor{stringliteral}{"{}uaslp\_key"{}}, \textcolor{stringliteral}{"{}large\_key"{}}, \textcolor{stringliteral}{"{}status"{}}],}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00147}00147     )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00149}00149     \textcolor{keywordflow}{return} fig.to\_json()}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00152}00152 \textcolor{preprocessor}{@graphAPI.post("{}/graph/bar"{})}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00153}00153 \textcolor{keyword}{async def }\mbox{\hyperlink{namespacegraph__api_a58853d18b4378ca3222031464068344f}{bar\_plot}}(data: StudentList):}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00154}00154     \textcolor{stringliteral}{"{}"{}"{}Generates a bar plot.}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00155}00155 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00156}00156 \textcolor{stringliteral}{    Generates a bar plot }\textcolor{keywordflow}{for} the students\textcolor{stringliteral}{' group by their generation and}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00157}00157 \textcolor{stringliteral}{    their level of delay. The plot }\textcolor{keywordflow}{is} generated using plotly.express.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00159}00159     Args:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00160}00160         data (StudentList): List of students.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00162}00162     Returns:}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00163}00163         str: JSON containing the information to render the plot.}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00164}00164     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00165}00165 \textcolor{stringliteral}{    data\_frame = \mbox{\hyperlink{namespacegraph__api_aaf5f12f4b2b1352aa0b8094a08453bc4}{get\_dataframe}}(data)}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00166}00166 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00167}00167 \textcolor{stringliteral}{    fig = px.histogram(}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00168}00168 \textcolor{stringliteral}{        data\_frame,}}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00169}00169 \textcolor{stringliteral}{        x="{}generation"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00170}00170         color=\textcolor{stringliteral}{"{}nivel\_rezago"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00171}00171         labels=\{}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00172}00172             \textcolor{stringliteral}{"{}generation"{}}: \textcolor{stringliteral}{"{}Generación"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00173}00173             \textcolor{stringliteral}{"{}nivel\_rezago"{}}: \textcolor{stringliteral}{"{}Nivel de rezago"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00174}00174         \},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00175}00175         color\_discrete\_map=\{}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00176}00176             \textcolor{stringliteral}{"{}Sin rezago"{}}: \textcolor{stringliteral}{"{}rgb(0, 255, 0)"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00177}00177             \textcolor{stringliteral}{"{}Rezago leve"{}}: \textcolor{stringliteral}{"{}rgb(255, 255, 0)"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00178}00178             \textcolor{stringliteral}{"{}Rezago grave"{}}: \textcolor{stringliteral}{"{}rgb(255, 0, 0)"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00179}00179         \},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00180}\mbox{\hyperlink{namespacegraph__api_a58853d18b4378ca3222031464068344f}{00180}}         hover\_name=\textcolor{stringliteral}{"{}name"{}},}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00181}00181     )}
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{graph__api_8py_source_l00183}00183     \textcolor{keywordflow}{return} fig.to\_json()}

\end{DoxyCode}
