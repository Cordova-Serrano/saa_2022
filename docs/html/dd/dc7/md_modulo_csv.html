<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sistema de seguimiento de Alumnos: modulo_csv</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Sistema de seguimiento de Alumnos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/dc7/md_modulo_csv.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">modulo_csv </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >![][1]</p>
<p >+-----------------------&mdash;+----------------------------------------&mdash;+ </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Integrantes:</b>   </th><th class="markdownTableHeadNone">- Córdova Serrano Eduardo Javier    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">- Gómez Arreguín Sonni Augusto    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">- Hernandéz Hernandéz Bernardo    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">- Llamas de la Torre María Jocelyn    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">- Martínez Astello Aldair Marcelo   </td></tr>
</table>
<p>+==========================+===========================================+ | <b>Profesor:</b> | Francisco Eduardo Martínez Pérez | +-----------------------&mdash;+----------------------------------------&mdash;+ | <b>Semestre:</b> | 2022-2023 l | +-----------------------&mdash;+----------------------------------------&mdash;+</p>
<p ><b>Control de versiones</b></p>
<hr  />
<p> <b>Versión</b> <b>Fecha</b> <b>Descripción del cambio</b> <b>Elaboró</b> <b>Autorizó</b> </p><hr  />
<p> 1.0 01/12/2022 Creación del documento de manual de desarrollador Equipo de desarrollo SAA <br  />
</p>
<hr  />
<h2><a class="anchor" id="autotoc_md2"></a>
Índice {#índice .TOC-Heading}</h2>
<p >Descargas [4]</p>
<p >Instalación del sistema [4][2]</p>
<p >Desarrollador [9]</p>
<p >Módulo Archivo CSV [27]</p>
<p >4.1 Diseño de vista [27][3]</p>
<p >4.2 Control de archivos [28]</p>
<p >4.2.1 Lectura [28][5]</p>
<p >Anexos [30]</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Descargas</h2>
<p >Laragon: <a href="https://laragon.org/download/index.html">https://laragon.org/download/index.html</a></p>
<p >![Graphical user interface, text, application Description automatically generated]</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Instalación del sistema</h2>
<p >Una vez instalado Laragon, procedemos a clonar el repositorio en el que se encuentra el proyecto:</p>
<p ><a href="https://github.com/Cordova-Serrano/saa_2022.git">https://github.com/Cordova-Serrano/saa_2022.git</a></p>
<p >Copiamos el link del código y nos dirigimos a una terminal, ya sea CMD, PowerShell o GitBash, para clonar el repositorio.</p>
<p >![][6]</p>
<p >Una vez en la terminal accedemos al directorio <b>C:/laragon/www</b> e ingresamos el comando <b>git clone <a href="https://github.com/Cordova-Serrano/saa_2022.git">https://github.com/Cordova-Serrano/saa_2022.git</a></b>.</p>
<p >![Graphical user interface Description automatically generated with medium confidence]</p>
<p >Después de clonar el repositorio se deben ejecutar los siguientes comandos:</p>
<p >![A picture containing shape Description automatically generated]</p>
<p >A continuación, nos dirigimos a la ventana de Laragon y hacemos clic en <b>Base de Datos</b>.</p>
<p >![Graphical user interface, text, application Description automatically generated][7]</p>
<p >Abrirá la siguiente ventana y daremos clic en <b>Nuevo</b> y le damos el nombre <b>laragon</b>, daremos clic en <b>Abrir.</b></p>
<p >![Graphical user interface, application Description automatically generated]</p>
<p >Después hacemos clic derecho en <b>Laravel</b> y creamos una base de datos llamada <b>saa</b>.</p>
<p >![Graphical user interface, application Description automatically generated][8]</p>
<p >![Graphical user interface, text, application, email Description automatically generated]</p>
<p >Una vez creada la base de datos iremos a la terminal de Laragon e ingresamos los siguientes comandos:</p>
<p >![][10]</p>
<p >![][11]</p>
<p ><b>Para iniciar el servidor Python.</b></p>
<p >Si es la primera vez que se ejecuta el servidor, se debe crear un entorno virtual de python y activarlo. Para esto, se debe ejecutar el siguiente comando en la carpeta del proyecto:</p>
<p >![Shape Description automatically generated with low confidence]</p>
<p ><b>Activar entorno virtual.</b></p>
<p >![Graphical user interface, application Description automatically generated][12]</p>
<p ><b>Instalar dependencias.</b></p>
<p >![][13]</p>
<p ><b>Ejecutar servidor.</b></p>
<p >![][14]</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Desarrollador</h2>
<p >Para visualizar o cambiar el nombre de la base de datos dirígete al archivo **.env** y lo podrás visualizar o modificar en la línea 14.</p>
<p >![Text Description automatically generated]</p>
<p ><b>REQ_01, ACCESO AL SISTEMA</b></p>
<ol type="1">
<li><b>Diseño de vista </b></li>
</ol>
<p >El código del diseño de la vista está desarrollado con <b>blade.php</b> este archivo se encuentra en la dirección <b>resources&gt;views&gt;auth&gt;login.blade.php.</b></p>
<p >El formulario de la vista está contenido en un <b>card</b> en el que se verificara si existe algún error de autenticación y en caso de haber errores mostrara una alerta al usuario. Nuestro formulario contendrá el método <b>POST</b> para mandar la información ingresada y que el sistema pueda validar las credenciales ingresadas. Además de que se hace uso de <b>javascript</b> para mostrar los errores correspondientes.</p>
<p >El código es mostrado en la sección de anexos <b>imagen 1</b>.</p>
<p >Para que la vista se pueda mostrar en el sitio web, se creó una ruta en el archivo que se encuentra en <b>routes&gt;web.php</b>. Esta ruta esta especificada como **'/'** ya que es la ruta inicial a la hora de iniciar el sistema.</p>
<p >El código es mostrado en la sección de anexos <b>imagen 1.2</b>.</p>
<ol type="1">
<li><b>Validación</b></li>
</ol>
<p >El código de validación de credenciales del formulario de login, se encuentra en la ruta <b>app&gt;Http&gt;Controllers&gt;Auth&gt;LoginController.php</b> en este controlador está en primera instancia la autenticación de usuarios el cual se encuentra en la ruta <b>vendor&gt;laravel&gt;ui&gt;auth-backend&gt;AuthenticatesUsers.php</b> en esta autenticación mostramos el formulario del inicio de sesión a través de una función que retorna la vista de <b>login.blade.php</b>, después se hace una solicitud de inicio de sesión al sistema, se hace una condición en donde se verifica si la clase usa <b>ThrottlesLogins</b> y así se acelera el proceso automáticamente, el proceso tiene un numero de intentos así que si el intento de inicio de sesión es fallido este número de incrementos se incrementará para iniciar sesión y que el usuario pueda entrar a la vista de inicio del sistema. Pero si el usuario supero el número de intentos de acceso se bloqueará, estas funciones se encuentran en el mismo archivo.</p>
<p >Si se deseara acceder con el email del usuario en vez del <b>username</b> basta con cambiar la función de <b>username</b> que se encuentra de la línea <b>158</b> a la <b>161</b> del archivo <b>AuthenticatesUsers.php</b>, cambiando el "username" por "email".</p>
<p >El código del archivo <b>AuthenticatesUsers.php</b> se encuentra en la sección de anexos <b>imagen 2</b>.</p>
<p >Siguiendo con el controlador de inicio de sesión después de hacer la autenticación del usuario se va a redirigir a "HOME" esta constante se encuentra en <b>app&gt;Providers&gt;RouteServiceProvide.php</b> donde le damos el valor de la ruta a donde queremos redirigir al usuario en este caso sería la ruta **"/home"** antes especificada en nuestro archivo de rutas <b>web.php</b> (sección de anexos imagen 2.1).</p>
<p >En el constructor se usa un middleware **'guest'** el cual esta esta declarado en <b>app&gt;Http&gt;Kernel.php</b> (sección de anexos imagen 2.2) este middleware se encuentra en <b>app&gt;Http&gt;Middleware&gt;RedirectIfAuthenticated.php</b> y se encarga de manejar una solicitud entrante y redirigir si es que el usuario esta autenticado (sección de anexos imagen 2.3).</p>
<p >Una vez autenticado el usuario será redirigido a la vista de inicio del sistema, esta ruta está declarada en <b>web.php</b> (sección de anexos imagen 2.4) con un middleware de autenticación, asignando la ruta **'/'** a la vista <b>welcome.blade.php</b>.</p>
<p >El middleware de autenticación esta declarado en <b>app&gt;Http&gt;Kernel.php</b> (sección de anexos imagen 2.5) este middleware se encuentra en <b>app&gt;Http&gt;Middleware&gt;Authenticate.php</b> y se encarga de retornar una ruta a la que se redirigirá al usuario cuando no está autenticado (sección de anexos imagen 2.6).</p>
<p >Para la vista de inicio del sistema primero está el archivo donde se encuentra la estructura principal del html del sistema <b>resources&gt;views&gt;layout.blade.php</b> (sección de anexos imagen 2.7), se importan las hojas de estilos utilizados en las vistas, se define el navbar en el que esta la foto del usuario en forma de dropdown para que muestre su nombre de usuario y la opción de cerrar sesión, se encuentra el sidebar con los links a los módulos y en caso de que el usuario este autenticado con el rol de "super" mostrara un link al módulo de configuración de usuarios. Para el contenido del sistema se encuentra una sección donde se define un wrapper y dentro de él se implementó un *@yield('content')* @yield permite mostrar el contenido desde otras vistas que estén referenciando al @yield del contenido. Finalmente, en este archivo se encuentra el footer.</p>
<p >Para la vista de inicio en el encontramos en <b>resources&gt;views&gt;auth&gt;welcome.blade.php</b> (sección de anexos imagen 2.8) y aquí encontramos el contenido donde simplemente se muestra un texto de bienvenida.</p>
<p >**REQ_02, MÓDULO: CONFIGURACIÓN*** *</p>
<p >**2.1 Diseño de vistas ** </p>
<p >El código de vistas del módulo de Configuración de usuarios se encuentra en la ruta <em><b>resources&gt;views&gt;users&gt;index.blade.php</b></em>. El contenido de este módulo se encuentra contenido principalmente en un card, donde se encuentran el botón de crear nuevo usuario, y la cabecera de una tabla con el id "data-table". Lo anterior se coloca de esa forma ya que la cabecera de la tabla no cambiará y siempre mostrará las mismas columnas.</p>
<p >@extends (\'layout\')</p>
<p >@section (\'title\', \'Seguimiento de Alumnos del Área | Usuarios\')</p>
<p >@section (\'styles\')</p>
<p >&lt;link href="{{ asset(\'plugins/datatables-bs4/css/dataTables.bootstrap4.css\') }}" rel="stylesheet"&gt;</p>
<p >&lt;link href="{{ asset(\'plugins/datatables-responsive/css/responsive.bootstrap4.css\') }}" rel="stylesheet"&gt;</p>
<p >@endsection</p>
<p >@section (\'content\')</p>
<p >&lt;div class="row"&gt;</p>
<p >    &lt;div class="col-12"&gt;</p>
<p >        @if ($message = session(\'success\'))</p>
<p >        &lt;div class="alert alert-success alert-dismissible text-justify" id="success-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Realizado!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($message = session(\'warning\'))</p>
<p >        &lt;div class="alert alert-warning alert-dismissible text-justify" id="warning-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Advertencia!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($errors-&gt;any())</p>
<p >        &lt;div class="alert alert-danger alert-dismissible text-justify" id="error-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-times-circle"&gt;&lt;/i&gt;¡Error!&lt;/h6&gt;</p>
<p >            @foreach ($errors-&gt;all() as $error)</p>
<p >            {{ $error }}&lt;br&gt;</p>
<p >            @endforeach</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($message = Session::get(\'error\'))</p>
<p >                &lt;div class="alert alert-danger alert-dismissible text-justify" id="successMessage"&gt;</p>
<p >                    &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >                    &lt;h6&gt;&lt;i class="icon fal fa-times-circle"&gt;&lt;/i&gt;¡Error!&lt;/h6&gt;</p>
<p >                    {{ $message }}&lt;br&gt;</p>
<p >                &lt;/div&gt;</p>
<p >        @endif</p>
<p >        &lt;div class="card card-outline card-reflex-blue"&gt;</p>
<p >            &lt;div class="overlay" id="overlay"&gt;</p>
<p >                &lt;i class="fal fa-2x fa-sync fa-spin"&gt;&lt;/i&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div class="card-header"&gt;</p>
<p >                &lt;div class="d-flex flex-wrap justify-content-between"&gt;</p>
<p >                    &lt;h3 class="card-title my-auto"&gt;Usuarios&lt;/h3&gt;</p>
<p >                    &lt;a class="btn btn-sm btn-success" href="{{ route(\'users.create\') }}"&gt;</p>
<p >                        &lt;i class="fal fa-plus-circle mr-2"&gt;&lt;/i&gt;Nuevo</p>
<p >                    &lt;/a&gt;</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div class="card-body"&gt;</p>
<p >                &lt;table class="table table-valign-middle table-hover" id="data-table"&gt;</p>
<p >                    &lt;thead class="saa-table-header"&gt;</p>
<p >                        &lt;tr&gt;</p>
<p >                            &lt;th&gt;#&lt;/th&gt;</p>
<p >                            &lt;th&gt;Nombre&lt;/th&gt;</p>
<p >                            &lt;th&gt;Email&lt;/th&gt;</p>
<p >                            &lt;th&gt;Username&lt;/th&gt;</p>
<p >                            &lt;th&gt;&lt;/th&gt;</p>
<p >                        &lt;/tr&gt;</p>
<p >                    &lt;/thead&gt;</p>
<p >                    &lt;tbody&gt;</p>
<p >                    &lt;/tbody&gt;</p>
<p >                &lt;/table&gt;</p>
<p >            &lt;/div&gt;</p>
<p >        &lt;/div&gt;</p>
<p >    &lt;/div&gt;</p>
<p >&lt;/div&gt;</p>
<p >&lt;div aria-hidden="true" aria-labelledby="delete-record" class="modal fade" id="delete-modal" data-backdrop="static" data-keyboard="false" role="dialog" tabindex="-1"&gt;</p>
<p >    &lt;div class="modal-dialog modal-dialog-centered" role="document"&gt;</p>
<p >        &lt;div class="modal-content"&gt;</p>
<p >            &lt;div class="modal-header bg-danger"&gt;</p>
<p >                &lt;h4 class="modal-title"&gt;Eliminar Usuario&lt;/h4&gt;</p>
<p >                &lt;button aria-label="Close" class="close" data-dismiss="modal" title="Cerrar" type="button"&gt;</p>
<p >                    &lt;span aria-hidden="true"&gt;&times;&lt;/span&gt;</p>
<p >                &lt;/button&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div class="modal-body"&gt;</p>
<p >                &lt;p class="text-justify"&gt;¿Está seguro que desea eliminar al usuario?&lt;/p&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div class="modal-footer justify-content-between"&gt;</p>
<p >                &lt;button class="btn btn-sm btn-secondary" data-dismiss="modal" type="button"&gt;</p>
<p >                    &lt;i class="fal fa-times-circle mr-2"&gt;&lt;/i&gt;Cancelar</p>
<p >                &lt;/button&gt;</p>
<p >                &lt;form autocomplete="off" id="delete-form" method="post"&gt;</p>
<p >                    @csrf</p>
<p >                    @method (\'DELETE\')</p>
<p >                    &lt;button class="btn btn-sm btn-danger" type="submit"&gt;</p>
<p >                        &lt;i class="fal fa-trash-alt mr-2"&gt;&lt;/i&gt;Eliminar</p>
<p >                    &lt;/button&gt;</p>
<p >                &lt;/form&gt;</p>
<p >            &lt;/div&gt;</p>
<p >        &lt;/div&gt;</p>
<p >    &lt;/div&gt;</p>
<p >&lt;/div&gt;</p>
<p >@endsection</p>
<p ><em><b>Imagen 1. Código de la vista configuración de usuarios</b></em></p>
<p >El código de la vista crear usuario se encuentra en la ruta <em><b>resources&gt;views&gt;users&gt;create.blade.php.</b></em> En esta vista principalmente se encuentra un formulario que captura la información ingresada por el usuario. Se usa el método <b>POST</b> para enviar la información ingresada al <b>UserController</b>, lo anterior después de que al presionar el botón <b>submit</b> presente en este archivo, se redireccionará a la ruta <b>users.store</b>.</p>
<p >@extends (\'layout\')</p>
<p >@section (\'title\', \'Seguimiento de Alumnos del Área | Usuarios\')</p>
<p >@section (\'styles\')</p>
<p >&lt;link href="{{ asset(\'plugins/datatables-bs4/css/dataTables.bootstrap4.css\') }}" rel="stylesheet"&gt;</p>
<p >&lt;link href="{{ asset(\'plugins/datatables-responsive/css/responsive.bootstrap4.css\') }}" rel="stylesheet"&gt;</p>
<p >@endsection</p>
<p >@section (\'content\')</p>
<p >&lt;div class="row"&gt;</p>
<p >    &lt;div class="col-12"&gt;</p>
<p >        @if ($message = session(\'success\'))</p>
<p >        &lt;div class="alert alert-success alert-dismissible text-justify" id="success-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Realizado!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($message = session(\'warning\'))</p>
<p >        &lt;div class="alert alert-warning alert-dismissible text-justify" id="warning-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Advertencia!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($message = session(\'duplicated\'))</p>
<p >        &lt;div class="alert alert-warning alert-dismissible text-justify" id="warning-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Advertencia!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($errors-&gt;any())</p>
<p >        &lt;div class="alert alert-danger alert-dismissible text-justify" id="error-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-times-circle"&gt;&lt;/i&gt;¡Error!&lt;/h6&gt;</p>
<p >            @foreach ($errors-&gt;all() as $error)</p>
<p >            {{ $error }}&lt;br&gt;</p>
<p >            @endforeach</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        &lt;div class="card card-outline card-reflex-blue"&gt;</p>
<p >            &lt;div class="overlay" id="overlay"&gt;</p>
<p >                &lt;i class="fal fa-2x fa-sync fa-spin"&gt;&lt;/i&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div class="card-header"&gt;</p>
<p >                &lt;div class="d-flex flex-wrap justify-content-between"&gt;</p>
<p >                    &lt;h3 class="card-title my-auto"&gt;Nuevo Usuario&lt;/h3&gt;</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;form action="{{ route(\'users.store\') }}" autocomplete="off" class="form-horizontal" id="user-form" method="post"&gt;</p>
<p >                @csrf</p>
<p >                &lt;div class="card-body"&gt;</p>
<p >                    &lt;div class="row"&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Nombre&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="name" placeholder="Nombre" required type="text" value="{{ old(\'name\') }}"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Nombre de usuario&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="username" placeholder="Nombre de usuario" required type="text"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;  </p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Correo electrónico&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="email" placeholder="Correo electrónico" required type="text"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Contraseña&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="password" placeholder="Contraseña" required type="password"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Seleccionar rol&lt;/label&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;select class="form-control select2 select2-reflex-blue" style="width: 100%" data-dropdown-css-class="select2-reflex-blue" data-placeholder="Seleccione generacion" id="rol" name="role" required&gt;</p>
<p >                                    &lt;option selected value=\'\'&gt;Seleccionar rol&lt;/option&gt;</p>
<p >                                    &lt;option value="super"&gt;Super Administrador&lt;/option&gt;</p>
<p >                                    &lt;option value="admin"&gt;Administrador&lt;/option&gt;</p>
<p >                                    &lt;option value="user"&gt;Usuario&lt;/option&gt;</p>
<p >                                &lt;/select&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                    &lt;/div&gt;</p>
<p >                &lt;/div&gt;</p>
<p >                &lt;div class="card-footer"&gt;</p>
<p >                    &lt;div class="d-flex justify-content-between"&gt;</p>
<p >                        &lt;a class="btn btn-sm btn-secondary" href="{{ route(\'users.index\') }}"&gt;</p>
<p >                            &lt;i class="fal fa-times-circle mr-2"&gt;&lt;/i&gt;Cancelar</p>
<p >                        &lt;/a&gt;</p>
<p >                        &lt;button class="btn btn-sm btn-primary" type="submit" id="save-btn"&gt;</p>
<p >                            &lt;i class="fal fa-save mr-2"&gt;&lt;/i&gt;Guardar</p>
<p >                        &lt;/button&gt;</p>
<p >                    &lt;/div&gt;</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/form&gt;</p>
<p >        &lt;/div&gt;</p>
<p >    &lt;/div&gt;</p>
<p >&lt;/div&gt;</p>
<p >@endsection</p>
<p ><em><b>Imagen 2. Código de la vista crear usuario</b></em></p>
<p >El código de la vista <b>Editar</b> usuario se encuentra en la ruta <em><b>resources&gt;views&gt;users&gt;edit.blade.php.</b></em> El código es muy similar al del archivo de crear usuario, la diferencia es que en este archivo se llenan los campos del formulario con la información del usuario a editar, excepto el campo contraseña. Lo anterior, se realiza con ayuda de blade ya que el controlador al mandar a esta vista también manda una variable <em>user</em> donde se encuentra la información extraída de la base de datos.</p>
<p >@extends (\'layout\')</p>
<p >@section (\'title\', \'Seguimiento de Alumnos del Área | Usuarios\')</p>
<p >@section (\'styles\')</p>
<p >&lt;link href="{{ asset(\'plugins/datatables-bs4/css/dataTables.bootstrap4.css\') }}" rel="stylesheet"&gt;</p>
<p >&lt;link href="{{ asset(\'plugins/datatables-responsive/css/responsive.bootstrap4.css\') }}" rel="stylesheet"&gt;</p>
<p >@endsection</p>
<p >@section (\'content\')</p>
<p >&lt;div class="row"&gt;</p>
<p >    &lt;div class="col-12"&gt;</p>
<p >        @if ($message = session(\'success\'))</p>
<p >        &lt;div class="alert alert-success alert-dismissible text-justify" id="success-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Realizado!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($message = session(\'warning\'))</p>
<p >        &lt;div class="alert alert-warning alert-dismissible text-justify" id="warning-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Advertencia!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($message = session(\'duplicated\'))</p>
<p >        &lt;div class="alert alert-warning alert-dismissible text-justify" id="warning-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-check-circle"&gt;&lt;/i&gt;¡Advertencia!&lt;/h6&gt;</p>
<p >            {{ $message }}</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        @if ($errors-&gt;any())</p>
<p >        &lt;div class="alert alert-danger alert-dismissible text-justify" id="error-alert"&gt;</p>
<p >            &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >            &lt;h6&gt;&lt;i class="icon fal fa-times-circle"&gt;&lt;/i&gt;¡Error!&lt;/h6&gt;</p>
<p >            @foreach ($errors-&gt;all() as $error)</p>
<p >            {{ $error }}&lt;br&gt;</p>
<p >            @endforeach</p>
<p >        &lt;/div&gt;</p>
<p >        @endif</p>
<p >        &lt;div class="card card-outline card-reflex-blue"&gt;</p>
<p >            &lt;div class="overlay" id="overlay"&gt;</p>
<p >                &lt;i class="fal fa-2x fa-sync fa-spin"&gt;&lt;/i&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div class="card-header"&gt;</p>
<p >                &lt;div class="d-flex flex-wrap justify-content-between"&gt;</p>
<p >                    &lt;h3 class="card-title my-auto"&gt;Editar Usuario &lt;/h3&gt;</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;form action="{{ route(\'users.update\', \[\'user\' =&gt; \'$user\'\]) }}" autocomplete="off" class="form-horizontal" id="user-form" method="post"&gt;</p>
<p >                @csrf</p>
<p >                @method(\'put\')</p>
<p >                &lt;div class="card-body"&gt;</p>
<p >                    &lt;div class="row"&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;input type="hidden" value="{{$user-&gt;id}}" name="id"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Nombre&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="name" placeholder="Nombre" required type="text" value="{{ old(\'name\', $user-&gt;name) }}"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Nombre de usuario&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="username" value="{{$user-&gt;username}}" placeholder="Nombre de usuario" required type="text"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;  </p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Correo electrónico&lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="email" placeholder="Correo electrónico" value="{{$user-&gt;email}}" required type="text"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Contraseña &lt;/label&gt;</p>
<p >                                &lt;div class="col-sm-9 mt-2"&gt;</p>
<p >                                    &lt;input class="form-control" maxlength="255" name="password" placeholder="Contraseña" value="" required type="password"&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        &lt;div class="col-sm-6"&gt;</p>
<p >                            &lt;label class="col-sm-3 col-form-label mt-2" for="name"&gt;Seleccionar rol&lt;/label&gt;</p>
<p >                            &lt;div class="form-group row"&gt;</p>
<p >                                &lt;select class="form-control select2 select2-reflex-blue" style="width: 100%" data-dropdown-css-class="select2-reflex-blue" data-placeholder="Seleccione generacion" id="rol" name="role" required&gt;</p>
<p >                                    &lt;option selected value=\'\'&gt;Seleccionar rol&lt;/option&gt;</p>
<p >                                    &lt;option value="1" @if($user-&gt;roles[0]-&gt;name=="super") selected @endif&gt;Super Administrador&lt;/option&gt;</p>
<p >                                    &lt;option value="2" @if($user-&gt;roles[0]-&gt;name=="admin") selected @endif&gt;Administrador&lt;/option&gt;</p>
<p >                                    &lt;option value="3" @if($user-&gt;roles[0]-&gt;name=="user") selected @endif&gt;Usuario&lt;/option&gt;</p>
<p >                                &lt;/select&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                    &lt;/div&gt;</p>
<p >                &lt;/div&gt;</p>
<p >                &lt;div class="card-footer"&gt;</p>
<p >                    &lt;div class="d-flex justify-content-between"&gt;</p>
<p >                        &lt;a class="btn btn-sm btn-secondary" href="{{ route(\'users.index\') }}"&gt;</p>
<p >                            &lt;i class="fal fa-times-circle mr-2"&gt;&lt;/i&gt;Cancelar</p>
<p >                        &lt;/a&gt;</p>
<p >                        &lt;button class="btn btn-sm btn-primary" type="submit" id="save-btn"&gt;</p>
<p >                            &lt;i class="fal fa-save mr-2"&gt;&lt;/i&gt;Guardar</p>
<p >                        &lt;/button&gt;</p>
<p >                    &lt;/div&gt;</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/form&gt;</p>
<p >        &lt;/div&gt;</p>
<p >    &lt;/div&gt;</p>
<p >&lt;/div&gt;</p>
<p >@endsection</p>
<p ><em><b>Imagen 3. Código de la vista editar usuario</b></em></p>
<p >**2.2 Registro de usuarios y asignación de roles** </p>
<p >**2.2.1 Lectura ** </p>
<p >La información de los usuarios existentes en la base de datos se obtiene mediante una solicitud Ajax dentro del código javascript en el archivo <em><b>resources&gt;views&gt;users&gt;index.blade.php.</b></em> La información llega al método y se renderiza usando <b>DataTable.</b> La información se coloca en la tabla de acuerdo con los campos que se desean mostrar. Además, en la misma función se colocan los botones de editar y eliminar por cada registro encontrado.</p>
<p >@section (\'scripts\')</p>
<p >&lt;script type="text/javascript"&gt;</p>
<p >    let dt = null;</p>
<p >    $(function() {</p>
<p >        dt = $(\'#data-table\').DataTable({</p>
<p >            pageLength: 10,</p>
<p >            autoWidth: false,</p>
<p >            processing: true,</p>
<p >            responsive: true,</p>
<p >            searching: true,</p>
<p >            lengthChange: false,</p>
<p >            language: {</p>
<p >                url: "{{ asset(\'plugins/datatables/jquery.dataTables.spanish.json\') }}"</p>
<p >            },</p>
<p >            ajax: "{{ route(\'users.index\') }}",</p>
<p >            columnDefs: [{</p>
<p >                    className: \'text-center\',</p>
<p >                    targets: [0, 1, 2, 3,4]</p>
<p >                },</p>
<p >                {</p>
<p >                    orderable: false,</p>
<p >                    searchable: false,</p>
<p >                    targets: 4</p>
<p >                }</p>
<p >            ],</p>
<p >            columns: [{</p>
<p >                    data: \'id\'</p>
<p >                },</p>
<p >                {</p>
<p >                    data: \'name\'</p>
<p >                },</p>
<p >                {</p>
<p >                    data: \'email\'</p>
<p >                },</p>
<p >                {</p>
<p >                    data: \'username\'</p>
<p >                },</p>
<p >                {</p>
<p >                    className: \'text-center\',</p>
<p >                    defaultContent: \'\',</p>
<p >                    createdCell: function(td, cellData, rowData, row, col, data, id, meta) {</p>
<p >                        $(td).prepend(</p>
<p >                            `&lt;div class="btn-group"&gt;</p>
<p >                                &lt;button type="button" class="update btn btn-sm btn-warning edit-user mr-1 update" title="Editar"&gt;</p>
<p >                                    &lt;i class="fal fa-pencil-alt"&gt;&lt;/i&gt;</p>
<p >                                &lt;/button&gt;</p>
<p >                                &lt;button type="button" class="btn btn-sm btn-danger delete-user" title="Eliminar"&gt;</p>
<p >                                    &lt;i class="fal fa-trash-alt"&gt;&lt;/i&gt;</p>
<p >                                &lt;/button&gt;</p>
<p >                            &lt;/div&gt;`</p>
<p >                        );</p>
<p >                        $(td).addClass(data);</p>
<p >                    }</p>
<p >                }</p>
<p >            ],</p>
<p >            drawCallback: () =&gt; {</p>
<p >                $(\'.edit-user\').on(\'click\', (e) =&gt; {</p>
<p >                    let user = dt.row($(e.currentTarget).closest(\'tr\')).data();</p>
<p >                    console.log(user);</p>
<p >                    editRecord(user);</p>
<p >                });</p>
<p >               </p>
<p >                $(\'.delete-user\').on(\'click\', (e) =&gt; {</p>
<p >                    let user = dt.row($(e.currentTarget).closest(\'tr\')).data();</p>
<p >                    deleteRecord(user);</p>
<p >                });</p>
<p >            }</p>
<p >        });</p>
<p >        $(\'#overlay\').hide();</p>
<p >    });</p>
<p >    function editRecord(user) {</p>
<p >        let route = "{{ route(\'users.edit\', \[\'user\' =&gt; \'id\'\]) }}";</p>
<p >        route = route.replace(\'id\', user.id);</p>
<p >        window.location.href = route;</p>
<p >    }</p>
<p >    function deleteRecord(user){</p>
<p >        let route = "{{ route(\'users.destroy\', \[\'user\' =&gt; \'id\'\]) }}";</p>
<p >        route = route.replace(\'id\', user.id);</p>
<p >        let modal = $(\'#delete-modal\');</p>
<p >        let form = modal.find(\'form:first\');</p>
<p >        form.attr(\'action\', route);</p>
<p >        modal.modal(\'show\');</p>
<p >    }</p>
<p >    setTimeout(function() {$(\'#successMessage\').fadeOut(\'fast\');}, 3000);</p>
<p >&lt;/script&gt;</p>
<p >@endsection</p>
<p ><em><b>Imagen 4. Código de la función para realizar la solicitud AJAX, luego renderiza la información que llega como respuesta</b></em></p>
<p >Cabe mencionar que la función, al hacer la solicitud AJAX, redireccione a la función index del controlador. En esta función, se obtiene la información de la base de datos para que después de extraerla, es información se envía en formato JSON a la vista.</p>
<p > public function index(Request $request)</p>
<p >    {</p>
<p >        if ($request-&gt;ajax()) {</p>
<p >            $model = User::with(\'roles\')-&gt;get();</p>
<p >            return DataTables::of($model)-&gt;toJson();</p>
<p >        }</p>
<p >        return view(\'users.index\');</p>
<p >    }</p>
<p ><em><b>Imagen 5. Código del controlador donde se extrae la información de la base de datos y se regresa en un objeto JSON</b></em></p>
<p >**2.2.2 Creación ** </p>
<p >La información de un usuario nuevo se captura en un formulario en el archivo users.create mostrado anteriormente. Una vez enviada la información, se manda a la función store dentro de UserController.</p>
<p >Ahí, se valida la información que viene en la request. Tanto el formato, como la longitud o si el valor este duplicado se revisa en la primera parte de esta función.</p>
<p >Si todo esta correcto, se procede a almacenar la información de nombre, nombre de usuario, contraseña y correo electrónico dentro de la tabla users usando el modelo User.</p>
<p >El valor del rol se almacena en la tabla roles_users usando el modelo RoleUser.</p>
<p >En ambos casos se usa la función save() para guardar la información en la base de datos.</p>
<p >Finalmente, la función store() redirecciona a la vista de index de usuarios.</p>
<p >/**</p>
<p >     * @desc Guarda la información de un usuario nuevo</p>
<p >     * @params {Request} Información del usuario a almacenar</p>
<p >     * @returns Vista index de usuario</p>
<p >    */</p>
<p >    public function store(Request $request)</p>
<p >    {</p>
<p >        if(User::where(\'email\',$request-&gt;email)-&gt;exists()){</p>
<p >            return redirect()-&gt;route(\'users.create\')-&gt;with(\'duplicated\', \'El correo ingresado ya existe. Por favor, ingrese un correo diferente\');</p>
<p >        }</p>
<p >        $role = 0;</p>
<p >        $validated = $request-&gt;validate([</p>
<p >            \'name\' =&gt; \'required|max:100\',</p>
<p >            \'username\' =&gt; \'required|max:100\',</p>
<p >            \'email\' =&gt; \'required|email:rfc\',</p>
<p >            \'password\' =&gt; \'required|min:8|alpha_num\'</p>
<p >        ]);</p>
<p >        $user = new User([</p>
<p >            "name" =&gt; $request-&gt;name,</p>
<p >            "username" =&gt; $request-&gt;username,</p>
<p >            "email" =&gt; $request-&gt;email,</p>
<p >            "password" =&gt; bcrypt($request-&gt;password)</p>
<p >        ]);</p>
<p >        $user-&gt;save();</p>
<p >        if($request-&gt;role == "super")</p>
<p >            $role = 1;</p>
<p >        elseif($request-&gt;role == "admin")</p>
<p >            $role = 2;</p>
<p >        else</p>
<p >            $role = 3;</p>
<p >        $role_user = new RoleUser([</p>
<p >            "user_id" =&gt; $user-&gt;id,</p>
<p >            "role_id" =&gt; $role</p>
<p >        ]);</p>
<p >        $role_user-&gt;save();</p>
<p >        return view(\'users.index\');</p>
<p >    }</p>
<p ><em><b>Imagen 6. Código para almacenar un nuevo usuario en la base de datos</b></em></p>
<p >**2.2.3 Actualización ** </p>
<p >La información de un usuario a editar se captura en un formulario en el archivo users.edit mostrado anteriormente. Una vez enviada la información, se manda a la función update dentro de UserController.</p>
<p >Ahí, se valida la información que viene en la request. Tanto el formato, como la longitud o si el valor este duplicado se revisa en la primera parte de esta función.</p>
<p >Si todo está correcto, se procede a actualizar la información que llega desde la request.</p>
<p >Para ambos casos, se usa el valor $request-&gt;id para obtener el registro correcto dentro de las tablas users y roles_users. Una vez extraída la información, se asigna a cada variable el nuevo valor contenido en la variable $request y nuevamente se utiliza la función save() para guardar los cambios.</p>
<p >/**</p>
<p >     * @desc Guarda la nueva información de usuario existente</p>
<p >     * @params {Request} Información nueva del usuario a almacenar</p>
<p >     * @returns Vista index de usuario</p>
<p >   </p>
<p >    */</p>
<p >    public function update(Request $request)</p>
<p >    {</p>
<p >        $id = $request-&gt;id;</p>
<p >        $user = User::where(\'id\', $id)-&gt;first();</p>
<p >        if(User::where(\'email\',$request-&gt;email)-&gt;exists() &amp;&amp; $user-&gt;email != $request-&gt;email){</p>
<p >            return back()-&gt;with(\'duplicated\', \'El correo ingresado ya existe. Por favor, ingrese un correo diferente\');</p>
<p >        }</p>
<p >        $validated = $request-&gt;validate([</p>
<p >            \'name\' =&gt; \'required|max:100\',</p>
<p >            \'username\' =&gt; \'required|max:100\',</p>
<p >            \'email\' =&gt; \'required|email:rfc\',</p>
<p >            \'password\' =&gt; \'required|min:8|alpha_num\'</p>
<p >        ]);</p>
<p >        $user-&gt;name = $request-&gt;name;</p>
<p >        $user-&gt;email = $request-&gt;email;</p>
<p >        $user-&gt;username = $request-&gt;username;</p>
<p >        $user-&gt;password = bcrypt($request-&gt;password);</p>
<p >        $user-&gt;save();</p>
<p >        $role = RoleUser::where(\'user_id\', $id)-&gt;first();</p>
<p >        $role-&gt;role_id = $request-&gt;role;</p>
<p >        $role-&gt;save();</p>
<p >        return redirect()-&gt;route(\'users.index\');</p>
<p >    }</p>
<p ><em><b>Imagen 7. Código que permite actualizar la información de un usuario</b></em></p>
<p ><b>2.2.4 Eliminación</b></p>
<p >La eliminación del usuario se realiza en la función destroy() dentro de UserController. Se recibe una variable $user del modelo User. Se usa el id dentro de esta variable para obtener el registro correspondiente en la tabla users y roles_users. Una vez que se tienen ambos registros se usa la función delete() para eliminar al usuario dentro de la base de datos.</p>
<p >/**</p>
<p >     * @desc Elimina un usuario</p>
<p >     * @params {User} Usuario a eliminar</p>
<p >     * @returns Vista index de usuario</p>
<p >    */</p>
<p >    public function destroy(User $user)</p>
<p >    {</p>
<p >        $id = $user-&gt;id;</p>
<p >        $role_table = RoleUser::where(\'user_id\', $id)-&gt;first();</p>
<p >        if($role_table-&gt;role_id == 1)</p>
<p >            return redirect()-&gt;route(\'users.index\')-&gt;with(\'error\', \'No se puede eliminar al superusuario\');</p>
<p >        $role_table-&gt;delete();</p>
<p >        $user_table = User::where(\'id\', $id)-&gt;first();</p>
<p >        $user_table-&gt;delete();</p>
<p >        return redirect()-&gt;route(\'users.index\');</p>
<p >    }</p>
<p ><em><b>Imagen 8. Código para eliminar un usuario de la base de datos</b></em></p>
<p >**REQ_03, CIERRE DE SESIÓN*** *</p>
<p >**3.1 Opción de cerrar sesión** </p>
<p >En el archivo <b>layout.blade.php</b> (sección de anexos imagen 3) en la sección del navbar se encuentra un dropdown con la opción de cerrar sesión la cual va a la ruta <em>logout</em> esta ruta se dirige al constructor del loginController (sección de anexos imagen 3.1).</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Módulo Archivo CSV</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
4.1 Diseño de vista</h3>
<p >Este archivo se encuentra en <b>import.blade</b>. El diseño de la vista para este módulo requiere de un formulario (imagen 4.1) capaz de recibir el archivo .csv con el que se alimentará el sistema, por ello, se cuenta con un formulario de tipo post que lleva a la ruta csv.strore, dicho formulario cuenta con una entrada para recibir archivos (línea 26) y una entrada oculta para saber qué tipo de proceso se requiere (sobreescritura o escritura).</p>
<p >![Text Description automatically generated][15]</p>
<p ><b>Imagen 4.1. Formulario de vista Archivo CSV.</b></p>
<h3><a class="anchor" id="autotoc_md8"></a>
4.2 Control de archivos</h3>
<h4><a class="anchor" id="autotoc_md9"></a>
4.2.1 Lectura</h4>
<p >El controlador de la vista <b>import.blade</b> es <b>CSVController.php</b>. El recorrido del archivo se realiza con un bucle for de 1 hasta el número de registros que contiene el archivo a subir (imagen 4.2).</p>
<p >![][16]</p>
<p ><b>Imagen 4.2. Bucle de procesamiento de archivo .csv</b></p>
<p >Extrae el registro i del archivo y posteriormente, cada campo lo asigna a la variable de $uaslp_key, $large_key y $name. Generación, clave de carrera y tipo de ingreso lo deja en null porque primero comprueba si el contenido de la clave larga es solamente numérico (imagen 4.3).</p>
<p >![Text Description automatically generated][17]</p>
<p ><b>Imagen 4.3. Información de alumno.</b></p>
<p >Comprueba que $large_key contenga valor únicamente numérico y posteriormente le asigna valor a las variables de $generacion_lk, $c_key e $ingreso_lk.</p>
<p >![A screenshot of a computer Description automatically generated with medium confidence]</p>
<p ><b>Imagen 4.4. Comprobación de campo de clave larga.</b></p>
<p >Una vez que ya se cuenta con la información del alumno, se verifica si el alumno ya está en el sistema, en caso de que si, se actualiza el registro del alumno de la tabla student. En caso de que no se pueda realizar dicho proceso, se reportará un error (imagen 4.5).</p>
<p >![Text Description automatically generated][18]</p>
<p ><b>Imagen 4.5. Proceso de estudiante ya en sistema.</b></p>
<p >Posteriormente a manipular la información del alumno, ahora se trabajará con la información semestral de él. Se creará un modelo de Data con los valores de dicho semestre perteneciente al alumno y guardará además de crear la relación con el id del semestre al que pertenece y al archivo del que provino (imagen 4.6).</p>
<p >![Text Description automatically generated][19]</p>
<p ><b>Imagen 4.6. Procesamiento de información semestral de alumno.</b></p>
<p >En caso de que el estudiante no se encuentre en el sistema, se requerirá subirlo (imagen 4.7).</p>
<p >![Text Description automatically generated][20]</p>
<p ><b>Imagen 4.7. Registro de nuevo estudiante.</b></p>
<p >Posteriormente se procesará los datos semestrales de dicho estudiante (imagen 4.8).</p>
<p >![Graphical user interface, text, chat or text message Description automatically generated]</p>
<p ><b>Imagen 4.8. Procesamiento de información semestral de nuevo estudiante.</b></p>
<p >Se intentará guardar el registro de estudiante creado (imagen 4.9).</p>
<p >![A screenshot of a computer Description automatically generated with medium confidence][21]</p>
<p ><b>Imagen 4.9. Guardado de registro de nuevo estudiante.</b></p>
<p >Por último, solo se intentará guardar los datos semestrales del estudiante si el registro de estudiante fue creado de manera correcta. En caso de que haya ocurrido un fallo al momento de guardar la información semestral del alumno, se eliminará el registro del nuevo alumno creado (imagen 4.10).</p>
<p >![A screenshot of a computer Description automatically generated with medium confidence][22]</p>
<p ><b>Imagen 4.10. Guardado de información semestral de alumno nuevo.</b></p>
<p ><a class="anchor" id="autotoc_md10"></a> </p><h5>Sobreescribir semestre</h5>
<p >Comprueba si existe un semestre en base de datos coincidente con el nombre del archivo en proceso de subida. En caso de que exista, elimina todos los registros que existan en la tabla student_data_semester que sean coincidentes con el id del semestre encontrado (imagen 4.11).</p>
<p >![Text Description automatically generated][23]</p>
<p ><b>Imagen 4.11. Sobreescritura de información de semestre.</b></p>
<p ><a class="anchor" id="autotoc_md11"></a> </p><h5>Subir csv</h5>
<p >En caso de que no encuentre un semestre coincidente en el sistema, quiere decir que no existe y por lo tanto se debe de crear uno nuevo (imagen 4.12).</p>
<p >![Text Description automatically generated][24]</p>
<p ><b>Imagen 4.12. Escritura de nuevo semestre.</b></p>
<h2><a class="anchor" id="autotoc_md12"></a>
Anexos</h2>
<p >@extends(\'layouts.app\')</p>
<p >@section(\'content\')</p>
<p >&lt;div <em>class</em>="container"&gt;</p>
<p >    &lt;div <em>class</em>="justify-content-center"&gt;</p>
<p >        *&lt;!-- Card con el fomrulario de login --&gt;*</p>
<p >        &lt;div <em>class</em>="card"&gt;</p>
<p >            &lt;div <em>class</em>="overlay" <em>id</em>="overlay"&gt;</p>
<p >                &lt;i <em>class</em>="fal fa-2x fa-sync fa-spin"&gt;&lt;/i&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            *&lt;!-- Contenido del card --&gt;*</p>
<p >            &lt;div <em>class</em>="card-body login-card-body"&gt;</p>
<p >                &lt;p <em>class</em>="login-box-msg"&gt;Ingresa para continuar&lt;/p&gt;</p>
<p >                *&lt;!-- Verifica si existe algun error y muestra una alerta en caso de error --&gt;*</p>
<p >                @if ($errors-&gt;any())</p>
<p >                &lt;div <em>class</em>="alert alert-danger alert-dismissible text-justify" <em>id</em>="error-alert"&gt;</p>
<p >                    &lt;button <em>aria-hidden</em>="true" <em>class</em>="close" <em>data-dismiss</em>="alert" <em>type</em>="button"&gt;&times;&lt;/button&gt;</p>
<p >                    &lt;h6&gt;&lt;i <em>class</em>="icon fal fa-times-circle"&gt;&lt;/i&gt;¡Error!&lt;/h6&gt;</p>
<p >                    *&lt;!-- Muestra el mensaje de error correspondiente --&gt;*</p>
<p >                    @foreach ($errors-&gt;all() as $error)</p>
<p >                    {{ $error }}&lt;br&gt;</p>
<p >                    @endforeach</p>
<p >                &lt;/div&gt;</p>
<p >                @endif</p>
<p >                *&lt;!-- FORMULARIO DE LOGIN --&gt;*</p>
<p >                &lt;form <em>method</em>="POST" <em>action</em>="{{ route(\'login\') }}" <em>autocomplete</em>="off" <em>id</em>="login-form"&gt;</p>
<p >                    @csrf</p>
<p >                    *&lt;!-- USERNAME --&gt;*</p>
<p >                    &lt;div <em>class</em>="input-group mb-3"&gt;</p>
<p >                        *&lt;!-- input con id necesario para identificar el nombre de usuario ingresado--&gt;*</p>
<p >                        &lt;input <em>id</em>="username" <em>class</em>="form-control @error(\'username\') is-invalid @enderror" <em>name</em>="username" <em>placeholder</em>="Nombre de usuario" <em>required</em> <em>autofocus</em> <em>type</em>="username" <em>value</em>="{{ old(\'username\') }}" <em>autocomplete</em>="off"&gt;</p>
<p >                        &lt;div <em>class</em>="input-group-append"&gt;</p>
<p >                            &lt;div <em>class</em>="input-group-text"&gt;</p>
<p >                                &lt;span <em>class</em>="fal fa-user"&gt;&lt;/span&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        *&lt;!-- Si sale error de username va a mostrar una alerta --&gt;*</p>
<p >                        @error(\'username\')</p>
<p >                        &lt;span <em>class</em>="invalid-feedback" <em>role</em>="alert"&gt;</p>
<p >                            &lt;strong&gt;{{ $message }}&lt;/strong&gt;</p>
<p >                        &lt;/span&gt;</p>
<p >                        @enderror</p>
<p >                    &lt;/div&gt;</p>
<p >                    *&lt;!-- /USERNAME --&gt;*</p>
<p >                    *&lt;!-- PASSWORD --&gt;*</p>
<p >                    &lt;div <em>class</em>="input-group mb-3"&gt;</p>
<p >                        *&lt;!-- input con id necesario para identificar la contraseña ingresada --&gt;*</p>
<p >                        &lt;input <em>id</em>="password" <em>class</em>="form-control @error(\'password\') is-invalid @enderror" <em>name</em>="password" <em>placeholder</em>="Contraseña" <em>required</em> <em>type</em>="password" <em>autocomplete</em>="current-password"&gt;</p>
<p >                        &lt;div <em>class</em>="input-group-append"&gt;</p>
<p >                            &lt;div <em>class</em>="input-group-text"&gt;</p>
<p >                                &lt;span <em>class</em>="fal fa-lock-alt"&gt;&lt;/span&gt;</p>
<p >                            &lt;/div&gt;</p>
<p >                        &lt;/div&gt;</p>
<p >                        *&lt;!-- Si sale error de password va a mostrar una alerta --&gt;*</p>
<p >                        @error(\'password\')</p>
<p >                        &lt;span <em>class</em>="invalid-feedback" <em>role</em>="alert"&gt;</p>
<p >                            &lt;strong&gt;{{ $message }}&lt;/strong&gt;</p>
<p >                        &lt;/span&gt;</p>
<p >                        @enderror</p>
<p >                    &lt;/div&gt;</p>
<p >                    *&lt;!-- /PASSWORD --&gt;*</p>
<p >                    *&lt;!-- BUTTON --&gt;*</p>
<p >                    &lt;div <em>class</em>="row"&gt;</p>
<p >                        &lt;div <em>class</em>="col-12 text-center text-sm-right"&gt;</p>
<p >                            *&lt;!-- BOTON QUE ENVIA LA INFORMACION INGRESADA AL SISTEMA --&gt;*</p>
<p >                            &lt;button <em>type</em>="submit" <em>class</em>="btn btn-sm btn-primary"&gt;</p>
<p >                                &lt;i <em>class</em>="fal fa-sign-in mr-2"&gt;&lt;/i&gt;{{ __(\'Iniciar sesión\') }}</p>
<p >                            &lt;/button&gt;</p>
<p >*&lt;!-- MANDA UN ITEM DE NAVBAR DONDE MOSTRARA UN DROPDOWN --&gt;*</p>
<p >                            &lt;li <em>class</em>="nav-item dropdown"&gt;</p>
<p >                                &lt;a <em>id</em>="navbarDropdown" <em>class</em>="nav-link dropdown-toggle" <em>href</em>="#" <em>role</em>="button" <em>data-bs-toggle</em>="dropdown" <em>aria-haspopup</em>="true" <em>aria-expanded</em>="false" <em>v-pre</em>&gt;</p>
<p >                                    {{ Auth::user()-&gt;name }} *&lt;!-- Obtiene el nombre del usuario que ingreso al sistema --&gt;*</p>
<p >                                &lt;/a&gt;</p>
<p >                                &lt;div <em>class</em>="dropdown-menu dropdown-menu-end" <em>aria-labelledby</em>="navbarDropdown"&gt;</p>
<p >                                    &lt;a <em>class</em>="dropdown-item" <em>href</em>="{{ route(\'logout\') }}" <em>onclick</em>="event.preventDefault();</p>
<p >                                                     document.getElementById(\'logout-form\').submit();"&gt; *&lt;!-- Boton manda a ruta de cerrar sesion --&gt;*</p>
<p >                                        {{ __(\'Cerrar sesión\') }}</p>
<p >                                    &lt;/a&gt;</p>
<p >                                    *&lt;!-- Sale del sistema, mandando a la ruta de logouts --&gt;*</p>
<p >                                    &lt;form <em>id</em>="logout-form" <em>action</em>="{{ route(\'logout\') }}" <em>method</em>="POST" <em>class</em>="d-none"&gt;</p>
<p >                                        @csrf</p>
<p >                                    &lt;/form&gt;</p>
<p >                                &lt;/div&gt;</p>
<p >                            &lt;/li&gt;</p>
<p >                            @endguest</p>
<p >                        &lt;/div&gt;</p>
<p >                    &lt;/div&gt;</p>
<p >                    *&lt;!-- /BUTTON --&gt;*</p>
<p >                &lt;/form&gt;</p>
<p >                *&lt;!-- /FORMULARIO DE LOGIN --&gt;*</p>
<p >            &lt;/div&gt;</p>
<p >        &lt;/div&gt;</p>
<p >    &lt;/div&gt;</p>
<p >&lt;/div&gt;</p>
<p >@endsection</p>
<p >@section (\'plugins\')</p>
<p >*&lt;!-- Form Validations --&gt;*</p>
<p >&lt;script <em>src</em>="{{ asset(\'plugins/jquery-validation/jquery.validate.js\') }}"&gt;&lt;/script&gt;</p>
<p >*&lt;!--&lt;script src="{{ asset(\'plugins/jquery-validation/localization/messages_es.js\') }}"&gt;&lt;/script&gt;--&gt;*</p>
<p >&lt;script <em>type</em>="text/javascript" <em>src</em>="{{ asset(\'plugins/jquery-validation/localization/messages_es.js\') }}"&gt;&lt;/script&gt;</p>
<p >@endsection</p>
<p >@section (\'scripts\')</p>
<p >&lt;script <em>type</em>="text/javascript"&gt;</p>
<p >    *// Valida las credenciales ingresadas en el formulario*</p>
<p >    $(<em>function</em>() {</p>
<p >        $(\'#login-form\').validate({</p>
<p >            lang: \'es\',</p>
<p >            errorPlacement: <em>function</em>(<em>error</em>, <em>element</em>) { *//define una clase para el elemento de error*</p>
<p >                error.addClass(\'form-check-label invalid-feedback\');</p>
<p >                element.closest(\'.input-group\').append(error);</p>
<p >            },</p>
<p >            highlight: <em>function</em>(<em>element</em>, <em>errorClass</em>, <em>validClass</em>) { *//se invoca el metodo highlight sobre el elemento que se quiere destacar*</p>
<p >                $(element).addClass(\'is-invalid\');</p>
<p >            },</p>
<p >            unhighlight: <em>function</em>(<em>element</em>, <em>errorClass</em>, <em>validClass</em>) { *//se invoca el metodo unhighlight sobre el elemento que no se va a resaltar*</p>
<p >                $(element).removeClass(\'is-invalid\');</p>
<p >            },</p>
<p >            submitHandler: <em>function</em>(<em>form</em>) { *//se invoca el metodo submitHandler para el envio de datos*</p>
<p >                $(\'#overlay\').show();</p>
<p >                <em>return</em> true;</p>
<p >            }</p>
<p >        });</p>
<p >        $(\'#overlay\').hide();</p>
<p >    })</p>
<p >&lt;/script&gt;</p>
<p >@endsection</p>
<p ><b>Imagen 1. Código de vista login, archivo login.blade.php.</b></p>
<p >*// Ruta login, es la que muestra al usuario cuando inicia el sistema*</p>
<p >Route*::<em>get(\'/\', *function</em> () {</p>
<p >    <em>return</em> view(\'login\');</p>
<p >});</p>
<p ><b>Imagen 1.2. Código de ruta para mostrar la vista login, archivo web.php.</b></p>
<p >&lt;?php</p>
<p ><em>namespace</em> Illuminate\Foundation\Auth;</p>
<p ><em>use</em> Illuminate\Http\JsonResponse;</p>
<p ><em>use</em> Illuminate\Http\Request;</p>
<p ><em>use</em> Illuminate\Support\Facades\Auth;</p>
<p ><em>use</em> Illuminate\Validation\ValidationException;</p>
<p ><em>trait</em> AuthenticatesUsers</p>
<p >{</p>
<p >    <em>use</em> RedirectsUsers, ThrottlesLogins;</p>
<p >    */***</p>
<p ><em>     * Muestra el formulario de inicio de sesión del sistema</em></p>
<p ><em>     *</em></p>
<p ><em>     * @return \Illuminate\View\View</em></p>
<p ><em>     */</em></p>
<p >    <em>public</em> <em>function</em> showLoginForm()</p>
<p >    {</p>
<p >        <em>return</em> view(\'auth.login\');</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Manejar una solicitud de inicio de sesión al sistema</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return \Illuminate\Http\RedirectResponse|\Illuminate\Http\Response|\Illuminate\Http\JsonResponse</em></p>
<p ><em>     *</em></p>
<p ><em>     * @throws \Illuminate\Validation\ValidationException</em></p>
<p ><em>     */</em></p>
<p >    <em>public</em> <em>function</em> login(Request $request)</p>
<p >    {</p>
<p >        *$this-&gt;*validateLogin($request);</p>
<p >        *// Si la clase usa el rasgo ThrottlesLogins, podemos acelerar automáticamente*</p>
<p >        *// los intentos de inicio de sesión para el sistema. Teclearemos esto por el nombre de usuario y*</p>
<p >        *// la dirección IP del cliente que realiza estas solicitudes en el sistema.*</p>
<p >        <em>if</em> (</p>
<p >            method_exists(*$this*, \'hasTooManyLoginAttempts\') <em>&amp;&amp;</em></p>
<p >            *$this-&gt;*hasTooManyLoginAttempts($request)</p>
<p >        ) {</p>
<p >            *$this-&gt;*fireLockoutEvent($request);</p>
<p >            <em>return</em> *$this-&gt;*sendLockoutResponse($request);</p>
<p >        }</p>
<p >        <em>if</em> (*$this-&gt;<em>attemptLogin($request)) {</em></p>
<p ><em>            *if</em> ($request*-&gt;<em>hasSession()) {</em></p>
<p ><em>                $request</em>-&gt;<em>session()</em>-&gt;*put(\'auth.password_confirmed_at\', time());</p>
<p >            }</p>
<p >            <em>return</em> *$this-&gt;*sendLoginResponse($request);</p>
<p >        }</p>
<p >        *// Si el intento de inicio de sesión no tuvo éxito, incrementaremos el número de intentos*</p>
<p >        *// para iniciar sesión y redirigir al usuario al formulario de inicio de sesión. Por supuesto, cuando*</p>
<p >        *// el usuario supera su número máximo de intentos, será bloqueado.*</p>
<p >        *$this-&gt;*incrementLoginAttempts($request);</p>
<p >        <em>return</em> *$this-&gt;*sendFailedLoginResponse($request);</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Validar la solicitud de inicio de sesión del usuario.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return void</em></p>
<p ><em>     *</em></p>
<p ><em>     * @throws \Illuminate\Validation\ValidationException</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> validateLogin(Request $request)</p>
<p >    {</p>
<p >        $request*-&gt;<em>validate([</em></p>
<p ><em>            *$this-&gt;*username() *=&gt;</em> \'required|string\',</p>
<p >            \'password\' *=&gt;* \'required|string\',</p>
<p >        ]);</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Intente iniciar la sesión del usuario en la aplicación.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return bool</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> attemptLogin(Request $request)</p>
<p >    {</p>
<p >        <em>return</em> *$this-&gt;<em>guard()</em>-&gt;*attempt(</p>
<p >            *$this-&gt;*credentials($request),</p>
<p >            $request*-&gt;*boolean(\'remember\')</p>
<p >        );</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Obtiene las credenciales de autorización necesarias de la solicitud.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return array</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> credentials(Request $request)</p>
<p >    {</p>
<p >        <em>return</em> $request*-&gt;*only(*$this-&gt;*username(), \'password\');</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Envía la respuesta después de que el usuario se haya autenticado.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return \Illuminate\Http\RedirectResponse|\Illuminate\Http\JsonResponse</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> sendLoginResponse(Request $request)</p>
<p >    {</p>
<p >        $request*-&gt;<em>session()</em>-&gt;*regenerate();</p>
<p >        *$this-&gt;*clearLoginAttempts($request);</p>
<p >        <em>if</em> ($response *=* *$this-&gt;<em>authenticated($request, *$this-&gt;*guard()</em>-&gt;<em>user())) {</em></p>
<p ><em>            *return</em> $response;</p>
<p >        }</p>
<p >        <em>return</em> $request*-&gt;*wantsJson()</p>
<p >            <em>?</em> <em>new</em> JsonResponse([], 204)</p>
<p >            *:* redirect()*-&gt;*intended(*$this-&gt;*redirectPath());</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * El usuario ha sido autenticado.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @param  mixed  $user</em></p>
<p ><em>     * @return mixed</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> authenticated(Request $request, $user)</p>
<p >    {</p>
<p >        *//*</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Obtiene la instancia de respuesta de inicio de sesión fallida.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return \Symfony\Component\HttpFoundation\Response</em></p>
<p ><em>     *</em></p>
<p ><em>     * @throws \Illuminate\Validation\ValidationException</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> sendFailedLoginResponse(Request $request)</p>
<p >    {</p>
<p >        <em>throw</em> ValidationException*::<em>withMessages([</em></p>
<p ><em>            *$this-&gt;*username() *=&gt;</em> [trans(\'auth.failed\')],</p>
<p >        ]);</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     *  Obtiene el nombre de usuario de inicio de sesión que utilizará el controlador.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @return string</em></p>
<p ><em>     */</em></p>
<p >    <em>public</em> <em>function</em> username()</p>
<p >    {</p>
<p >        <em>return</em> \'username\';</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Cerrar la sesión del usuario de la aplicación.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return \Illuminate\Http\RedirectResponse|\Illuminate\Http\JsonResponse</em></p>
<p ><em>     */</em></p>
<p >    <em>public</em> <em>function</em> logout(Request $request)</p>
<p >    {</p>
<p >        *$this-&gt;<em>guard()</em>-&gt;*logout();</p>
<p >        $request*-&gt;<em>session()</em>-&gt;*invalidate();</p>
<p >        $request*-&gt;<em>session()</em>-&gt;*regenerateToken();</p>
<p >        <em>if</em> ($response *=* *$this-&gt;<em>loggedOut($request)) {</em></p>
<p ><em>            *return</em> $response;</p>
<p >        }</p>
<p >        <em>return</em> $request*-&gt;*wantsJson()</p>
<p >            <em>?</em> <em>new</em> JsonResponse([], 204)</p>
<p >            *:* redirect(\'/\');</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * El usuario ha cerrado sesión en la aplicación.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return mixed</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> loggedOut(Request $request)</p>
<p >    {</p>
<p >        *//*</p>
<p >    }</p>
<p >    */***</p>
<p ><em>     * Obtiene el protector que se usará durante la autenticación.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @return \Illuminate\Contracts\Auth\StatefulGuard</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> guard()</p>
<p >    {</p>
<p >        <em>return</em> Auth*::*guard();</p>
<p >    }</p>
<p >}</p>
<p ><b>Imagen 2. Código de autenticación de usuarios, archivo AuthenticatesUsers.php.</b></p>
<p >![][25]</p>
<p ><b>Imagen 2.1. Código de ruta para redireccionar al inicio del sistema una vez autenticado el usuario, archivo web.php.</b></p>
<p >&lt;?php</p>
<p ><em>namespace</em> App\Http;</p>
<p ><em>use</em> Illuminate\Foundation\Http\Kernel <em>as</em> HttpKernel;</p>
<p ><em>class</em> Kernel <em>extends</em> HttpKernel</p>
<p >{</p>
<p >    */***</p>
<p ><em>     * The application\'s global HTTP middleware stack.</em></p>
<p ><em>     *</em></p>
<p ><em>     * These middleware are run during every request to your application.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @var array&lt;int, class-string|string&gt;</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> $middleware *=* [</p>
<p >        *// \App\Http\Middleware\TrustHosts::class,*</p>
<p >        \App\Http\Middleware\TrustProxies*::class*,</p>
<p >        \Fruitcake\Cors\HandleCors*::class*,</p>
<p >        \App\Http\Middleware\PreventRequestsDuringMaintenance*::class*,</p>
<p >        \Illuminate\Foundation\Http\Middleware\ValidatePostSize*::class*,</p>
<p >        \App\Http\Middleware\TrimStrings*::class*,</p>
<p >        \Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull*::class*,</p>
<p >    ];</p>
<p >    */***</p>
<p ><em>     * The application\'s route middleware groups.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @var array&lt;string, array&lt;int, class-string|string&gt;&gt;</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> $middlewareGroups *=* [</p>
<p >        \'web\' *=&gt;* [</p>
<p >            \App\Http\Middleware\EncryptCookies*::class*,</p>
<p >            \Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse*::class*,</p>
<p >            \Illuminate\Session\Middleware\StartSession*::class*,</p>
<p >            *// \Illuminate\Session\Middleware\AuthenticateSession::class,*</p>
<p >            \Illuminate\View\Middleware\ShareErrorsFromSession*::class*,</p>
<p >            \App\Http\Middleware\VerifyCsrfToken*::class*,</p>
<p >            \Illuminate\Routing\Middleware\SubstituteBindings*::class*,</p>
<p >        ],</p>
<p >        \'api\' *=&gt;* [</p>
<p >            \'throttle:api\',</p>
<p >            \Illuminate\Routing\Middleware\SubstituteBindings*::class*,</p>
<p >        ],</p>
<p >    ];</p>
<p >    */***</p>
<p ><em>     * The application\'s route middleware.</em></p>
<p ><em>     *</em></p>
<p ><em>     * These middleware may be assigned to groups or used individually.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @var array&lt;string, class-string|string&gt;</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> $routeMiddleware *=* [</p>
<p >        \'auth\' *=&gt;* \App\Http\Middleware\Authenticate*::class*,</p>
<p >        \'auth.basic\' *=&gt;* \Illuminate\Auth\Middleware\AuthenticateWithBasicAuth*::class*,</p>
<p >        \'cache.headers\' *=&gt;* \Illuminate\Http\Middleware\SetCacheHeaders*::class*,</p>
<p >        \'can\' *=&gt;* \Illuminate\Auth\Middleware\Authorize*::class*,</p>
<p >        \'guest\' *=&gt;* \App\Http\Middleware\RedirectIfAuthenticated*::class*,</p>
<p >        \'password.confirm\' *=&gt;* \Illuminate\Auth\Middleware\RequirePassword*::class*,</p>
<p >        \'signed\' *=&gt;* \Illuminate\Routing\Middleware\ValidateSignature*::class*,</p>
<p >        \'throttle\' *=&gt;* \Illuminate\Routing\Middleware\ThrottleRequests*::class*,</p>
<p >        \'verified\' *=&gt;* \Illuminate\Auth\Middleware\EnsureEmailIsVerified*::class*,</p>
<p >        \'check.role\' *=&gt;* \App\Http\Middleware\CheckRole*::class*,</p>
<p >    ];</p>
<p >}</p>
<p ><b>Imagen 2.2. Código de declaración del middleware "guest", archivo kernel.php.</b></p>
<p >&lt;?php</p>
<p ><em>namespace</em> App\Http\Middleware;</p>
<p ><em>use</em> App\Providers\RouteServiceProvider;</p>
<p ><em>use</em> Closure;</p>
<p ><em>use</em> Illuminate\Http\Request;</p>
<p ><em>use</em> Illuminate\Support\Facades\Auth;</p>
<p ><em>class</em></p>
<p >{</p>
<p >    */***</p>
<p ><em>     * Manejar una solicitud entrante.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @param  \Closure(\Illuminate\Http\Request): (\Illuminate\Http\Response|\Illuminate\Http\RedirectResponse)  $next</em></p>
<p ><em>     * @param  string|null  ...$guards</em></p>
<p ><em>     * @return \Illuminate\Http\Response|\Illuminate\Http\RedirectResponse</em></p>
<p ><em>     */</em></p>
<p >    <em>public</em> <em>function</em> handle(Request $request, Closure $next, *...*$guards)</p>
<p >    {</p>
<p >        $guards *=* empty($guards) <em>?</em> [null] *:* $guards;</p>
<p >        <em>foreach</em> ($guards <em>as</em> $guard) {</p>
<p >            <em>if</em> (Auth*::<em>guard($guard)</em>-&gt;<em>check()) {</em></p>
<p ><em>                *return</em> redirect(RouteServiceProvider*::*HOME);</p>
<p >            }</p>
<p >        }</p>
<p >        <em>return</em> $next($request);</p>
<p >    }</p>
<p >}</p>
<p ><b>Imagen 2.3. Código de middleware "guest", archivo RedirectIfAuthenticated.php.</b></p>
<p >![][26]</p>
<p ><b>Imagen 2.4. Código de ruta para redireccionar al inicio del sistema una vez autenticado el usuario usando el middleware de autenticación, archivo web.php.</b></p>
<p ><em>protected</em> $routeMiddleware *=* [</p>
<p >        \'auth\' *=&gt;* \App\Http\Middleware\Authenticate*::class*,</p>
<p >        \'auth.basic\' *=&gt;* \Illuminate\Auth\Middleware\AuthenticateWithBasicAuth*::class*,</p>
<p >        \'cache.headers\' *=&gt;* \Illuminate\Http\Middleware\SetCacheHeaders*::class*,</p>
<p >        \'can\' *=&gt;* \Illuminate\Auth\Middleware\Authorize*::class*,</p>
<p >        \'guest\' *=&gt;* \App\Http\Middleware\RedirectIfAuthenticated*::class*,</p>
<p >        \'password.confirm\' *=&gt;* \Illuminate\Auth\Middleware\RequirePassword*::class*,</p>
<p >        \'signed\' *=&gt;* \Illuminate\Routing\Middleware\ValidateSignature*::class*,</p>
<p >        \'throttle\' *=&gt;* \Illuminate\Routing\Middleware\ThrottleRequests*::class*,</p>
<p >        \'verified\' *=&gt;* \Illuminate\Auth\Middleware\EnsureEmailIsVerified*::class*,</p>
<p >        \'check.role\' *=&gt;* \App\Http\Middleware\CheckRole*::class*,</p>
<p >    ];</p>
<p ><b>Imagen 2.5. Código de declaración del middleware "auth", archivo kernel.php.</b></p>
<p >&lt;?php</p>
<p ><em>namespace</em> App\Http\Middleware;</p>
<p ><em>use</em> Illuminate\Auth\Middleware\Authenticate <em>as</em> Middleware;</p>
<p ><em>class</em> Authenticate <em>extends</em> Middleware</p>
<p >{</p>
<p >    */***</p>
<p ><em>     * Obtiene la ruta a la que se debe redirigir al usuario cuando no está autenticado.</em></p>
<p ><em>     *</em></p>
<p ><em>     * @param  \Illuminate\Http\Request  $request</em></p>
<p ><em>     * @return string|null</em></p>
<p ><em>     */</em></p>
<p >    <em>protected</em> <em>function</em> redirectTo($request)</p>
<p >    {</p>
<p >        <em>if</em> (<em>!</em> $request*-&gt;<em>expectsJson()) {</em></p>
<p ><em>            *return</em> route(\'login\');</p>
<p >        }</p>
<p >    }</p>
<p >}</p>
<p ><b>Imagen 2.6. Código de middleware "auth", archivo Authenticate.php.</b></p>
<p >@php</p>
<p >$route = Route::currentRouteName();</p>
<p >@endphp</p>
<p >&lt;!DOCTYPE <em>html</em>&gt;</p>
<p >&lt;html <em>lang</em>="es"&gt;</p>
<p >&lt;head&gt;</p>
<p >    &lt;meta <em>name</em>="csrf-token" <em>content</em>="{{ csrf_token() }}"&gt;</p>
<p >    &lt;meta <em>charset</em>="utf-8"&gt;</p>
<p >    &lt;meta <em>content</em>="width=device-width, initial-scale=1" <em>name</em>="viewport"&gt;</p>
<p >    &lt;title&gt;@yield (\'title\')&lt;/title&gt;</p>
<p >    &lt;link <em>href</em>="<a href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&amp;display=fallback</a>" <em>rel</em>="stylesheet"&gt;</p>
<p >    &lt;link <em>href</em>="{{ asset(\'plugins/font-awesome-pro/css/all.css\') }}" <em>rel</em>="stylesheet"&gt;</p>
<p >    &lt;script <em>src</em>="<a href="https://cdn.plot.ly/plotly-latest.min.js">https://cdn.plot.ly/plotly-latest.min.js</a>"&gt;&lt;/script&gt;</p>
<p >    *&lt;!-- etc. --&gt;*</p>
<p >    @yield (\'styles\')</p>
<p >    &lt;link <em>href</em>="{{ asset(\'core/css/adminlte.css\') }}" <em>rel</em>="stylesheet"&gt;</p>
<p >    &lt;link <em>href</em>="{{ asset(\'css/custom.css\') }}" <em>rel</em>="stylesheet"&gt;</p>
<p >    &lt;link <em>href</em>="{{ asset(\'favicon.ico\') }}" <em>rel</em>="icon" <em>type</em>="image/x-icon"&gt;</p>
<p >    &lt;link <em>href</em>="{{ asset(\'favicon.ico\') }}" <em>rel</em>="shortcut icon" <em>type</em>="image/x-icon"&gt;</p>
<p >&lt;/head&gt;</p>
<p >&lt;body <em>class</em>="hold-transition sidebar-mini"&gt;</p>
<p >    &lt;div <em>class</em>="wrapper"&gt;</p>
<p >        &lt;nav <em>class</em>="main-header navbar navbar-expand navbar-light navbar-1235c"&gt;</p>
<p >            &lt;ul <em>class</em>="navbar-nav"&gt;</p>
<p >                &lt;li <em>class</em>="nav-item"&gt;</p>
<p >                    &lt;a <em>class</em>="nav-link" <em>data-widget</em>="pushmenu" <em>href</em>="javascript:void(0)" <em>role</em>="button"&gt;</p>
<p >                        &lt;i <em>class</em>="fal fa-bars"&gt;&lt;/i&gt;</p>
<p >                    &lt;/a&gt;</p>
<p >                &lt;/li&gt;</p>
<p >            &lt;/ul&gt;</p>
<p >            &lt;ul <em>class</em>="navbar-nav ml-auto"&gt;</p>
<p >                &lt;li <em>class</em>="nav-item dropdown"&gt;</p>
<p >                    &lt;a <em>class</em>="nav-link mr-1 p-0" <em>data-toggle</em>="dropdown" <em>href</em>="javascript:void(0)"&gt;</p>
<p >                        &lt;img <em>class</em>="h-100 img-circle elevation-1" <em>src</em>="{{ asset(\'core/img/logo_minimal_test.jpg\') }}"&gt;</p>
<p >                    &lt;/a&gt;</p>
<p >                    &lt;div <em>class</em>="dropdown-menu dropdown-menu-lg dropdown-menu-right"&gt;</p>
<p >                        *&lt;!-- ----------------------------------------------------------------------------------------------------------------------- --&gt;*</p>
<p >                        &lt;a <em>id</em>="navbarDropdown" <em>class</em>="dropdown-item dropdown-header" <em>href</em>="#" <em>role</em>="button" <em>data-bs-toggle</em>="dropdown" <em>aria-haspopup</em>="true" <em>aria-expanded</em>="false" <em>v-pre</em>&gt;</p>
<p >                            {{ Auth::user()-&gt;name }}</p>
<p >                        &lt;/a&gt;</p>
<p >                        *&lt;!-- ----------------------------------------------------------------------------------------------------------------------- --&gt;*</p>
<p >                        &lt;div <em>class</em>="dropdown-divider"&gt;&lt;/div&gt;</p>
<p >                        &lt;form <em>action</em>="{{ route(\'logout\') }}" <em>autocomplete</em>="off" <em>method</em>="post"&gt;</p>
<p >                            @csrf</p>
<p >                            &lt;a <em>class</em>="dropdown-item" <em>href</em>="javascript:void(0)" <em>onclick</em>="event.preventDefault(); *this*.closest(\'form\').submit();"&gt;</p>
<p >                                &lt;i <em>class</em>="fal fa-sign-out mr-2"&gt;&lt;/i&gt;Cerrar Sesión</p>
<p >                            &lt;/a&gt;</p>
<p >                        &lt;/form&gt;</p>
<p >                        &lt;div <em>class</em>="dropdown-divider"&gt;&lt;/div&gt;</p>
<p >                        *&lt;!-- ----------------------------------------------------------------------------------------------------------------- --&gt;*</p>
<p >                        &lt;/form&gt;</p>
<p >                    &lt;/div&gt;</p>
<p >                &lt;/li&gt;</p>
<p >            &lt;/ul&gt;</p>
<p >        &lt;/nav&gt;</p>
<p >        &lt;aside <em>class</em>="main-sidebar sidebar-light-reflex-blue elevation-4"&gt;</p>
<p >            &lt;a <em>class</em>="brand-link" <em>href</em>="" <em>style</em>="background-color: #004A98 !important;"&gt;</p>
<p >                &lt;img <em>alt</em>="Isotipo" <em>class</em>="brand-image" <em>src</em>="{{ asset(\'core/img/logo_uaslp.png\') }}"&gt;</p>
<p >                &lt;span <em>class</em>="brand-text"&gt;</p>
<p >                    &lt;img <em>alt</em>="Logotipo" <em>height</em>="30" <em>src</em>="{{ asset(\'core/img/logo_ing_uaslp.png\') }}"&gt;</p>
<p >                &lt;/span&gt;</p>
<p >            &lt;/a&gt;</p>
<p >            &lt;div <em>class</em>="sidebar"&gt;</p>
<p >                &lt;nav <em>class</em>="mt-2"&gt;</p>
<p >                    &lt;ul <em>class</em>="nav nav-pills nav-sidebar flex-column" <em>data-accordion</em>="false" <em>data-widget</em>="treeview" <em>role</em>="menu"&gt;</p>
<p >                        &lt;li <em>class</em>="nav-item"&gt;</p>
<p >                            &lt;a <em>class</em>="nav-link {{ str_starts_with($route, \'home\') ? \'active\' : \'\' }}" <em>href</em>="/home"&gt;</p>
<p >                                &lt;i <em>class</em>="nav-icon fas fa-clinic-medical"&gt;&lt;/i&gt;</p>
<p >                                &lt;p&gt;Inicio&lt;/p&gt;</p>
<p >                            &lt;/a&gt;</p>
<p >                        &lt;/li&gt;</p>
<p >                        &lt;li <em>class</em>="nav-item"&gt;</p>
<p >                            &lt;a <em>class</em>="nav-link {{ str_starts_with($route, \'csv\') ? \'active\' : \'\' }}" <em>href</em>="{{ route(\'csv.index\') }}"&gt;</p>
<p >                                &lt;i <em>class</em>="nav-icon fas fa-file-csv"&gt;&lt;/i&gt;</p>
<p >                                &lt;p&gt;Archivo CSV&lt;/p&gt;</p>
<p >                            &lt;/a&gt;</p>
<p >                        &lt;/li&gt;</p>
<p >                        &lt;li <em>class</em>="nav-item"&gt;</p>
<p >                            &lt;a <em>class</em>="nav-link {{ str_starts_with($route, \'graphs\') ? \'active\' : \'\' }}" <em>href</em>="{{ route(\'graphs.index\') }}"&gt;</p>
<p >                                &lt;i <em>class</em>="nav-icon fas fa-chart-bar"&gt;&lt;/i&gt;</p>
<p >                                &lt;p&gt;Ver gráficas&lt;/p&gt;</p>
<p >                            &lt;/a&gt;</p>
<p >                        &lt;/li&gt;</p>
<p >                        &lt;li <em>class</em>="nav-item"&gt;</p>
<p >                            &lt;a <em>class</em>="nav-link {{ str_starts_with($route, \'consult\') ? \'active\' : \'\' }}" <em>href</em>="{{ route(\'consult.index\') }}"&gt;</p>
<p >                                &lt;i <em>class</em>="nav-icon fas fa-users"&gt;&lt;/i&gt;</p>
<p >                                &lt;p&gt;Consulta de alumnos&lt;/p&gt;</p>
<p >                            &lt;/a&gt;</p>
<p >                        &lt;/li&gt;</p>
<p >                        @if (Auth::user()-&gt;hasRole(\'super\'))</p>
<p >                        &lt;li <em>class</em>="nav-item {{ (str_starts_with($route, \'classifications\') || str_starts_with($route, \'settings\') || str_starts_with($route, \'suppliers\') || str_starts_with($route, \'users\'))||  str_starts_with($route, \'fees\') ||str_starts_with($route, \'charge-vouchers\') ||  str_starts_with($route, \'type\') ? \'menu-open\' : \'\' }}"&gt;</p>
<p >                            &lt;a <em>class</em>="nav-link {{ (str_starts_with($route, \'classifications\') || str_starts_with($route, \'settings\') || str_starts_with($route, \'suppliers\') || str_starts_with($route, \'users\')) || str_starts_with($route, \'charge-vouchers\') ||  str_starts_with($route, \'fees\') ? \'active\' : \'\' }}" <em>href</em>="javascript:void(0)"&gt;</p>
<p >                                &lt;i <em>class</em>="nav-icon fas fa-tools"&gt;&lt;/i&gt;</p>
<p >                                &lt;p&gt;</p>
<p >                                    Configuración</p>
<p >                                    &lt;i <em>class</em>="right fal fa-angle-left"&gt;&lt;/i&gt;</p>
<p >                                &lt;/p&gt;</p>
<p >                            &lt;/a&gt;</p>
<p >                            &lt;ul <em>class</em>="nav nav-treeview"&gt;</p>
<p >                                &lt;li <em>class</em>="nav-item"&gt;</p>
<p >                                    &lt;a <em>class</em>="nav-link {{ str_starts_with($route, \'users\') ? \'active\' : \'\' }}" <em>href</em>="{{ route(\'users.index\') }}"&gt;</p>
<p >                                        &lt;i <em>class</em>="nav-icon fal fa-users"&gt;&lt;/i&gt;</p>
<p >                                        &lt;p&gt;Usuarios&lt;/p&gt;</p>
<p >                                    &lt;/a&gt;</p>
<p >                                &lt;/li&gt;</p>
<p >                            &lt;/ul&gt;</p>
<p >                        &lt;/li&gt;</p>
<p >                        @endif</p>
<p >                    &lt;/ul&gt;</p>
<p >                &lt;/nav&gt;</p>
<p >            &lt;/div&gt;</p>
<p >        &lt;/aside&gt;</p>
<p >        &lt;div <em>class</em>="content-wrapper"&gt;</p>
<p >            &lt;section <em>class</em>="content-header"&gt;&lt;/section&gt;</p>
<p >            &lt;section <em>class</em>="content"&gt;</p>
<p >                &lt;div <em>class</em>="container-fluid"&gt;</p>
<p >                    @yield (\'content\')</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/section&gt;</p>
<p >        &lt;/div&gt;</p>
<p >        &lt;footer <em>class</em>="main-footer text-center text-sm-left"&gt;</p>
<p >            &lt;div <em>class</em>="float-right d-none d-sm-block"&gt;</p>
<p >                v1.0</p>
<p >            &lt;/div&gt;</p>
<p >            &copy; {{ date(\'Y\') }} &lt;a <em>href</em>="javascript:void(0)"&gt;Facultad de Ingeniería, Área de Ciencias de la Computación&lt;/a&gt;.</p>
<p >            Todos los derechos reservados.</p>
<p >        &lt;/footer&gt;</p>
<p >    &lt;/div&gt;</p>
<p >    &lt;script <em>src</em>="{!! mix(\'js/app.js\') !!}"&gt;&lt;/script&gt;</p>
<p >    &lt;script <em>src</em>="{{ asset(\'plugins/jquery/jquery.js\') }}"&gt;&lt;/script&gt;</p>
<p >    &lt;script <em>src</em>="{{ asset(\'plugins/bootstrap/js/bootstrap.bundle.js\') }}"&gt;&lt;/script&gt;</p>
<p >    &lt;script <em>src</em>="{{ asset(\'plugins/inputmask/jquery.inputmask.js\') }}"&gt;&lt;/script&gt;</p>
<p >    @yield (\'plugins\')</p>
<p >    &lt;script <em>src</em>="{{ asset(\'core/js/adminlte.js\') }}"&gt;&lt;/script&gt;</p>
<p >    &lt;script <em>src</em>="{{ asset(\'core/js/demo.js\') }}"&gt;&lt;/script&gt;</p>
<p >    &lt;script <em>type</em>="text/javascript"&gt;</p>
<p >        String.prototype.capitalize *=* <em>function</em>() {</p>
<p >            <em>return</em> <em>this</em>.toLowerCase().split(\' \').map(<em>word</em> *=&gt;* word.charAt(0).toUpperCase() <em>+</em> word.slice(1)).join(\' \');</p>
<p >        }</p>
<p >        Inputmask.extendAliases({</p>
<p >            currency: {</p>
<p >                digits: 2,</p>
<p >                prefix: \'$\',</p>
<p >                allowMinus: *!*1,</p>
<p >                alias: \'numeric\',</p>
<p >                digitsOptional: *!*1,</p>
<p >            },</p>
<p >            integer: {</p>
<p >                digits: 0,</p>
<p >                allowMinus: *!*1,</p>
<p >                alias: \'numeric\'</p>
<p >            },</p>
<p >            percentage: {</p>
<p >                max: 100,</p>
<p >                digits: 2,</p>
<p >                suffix: \'%\',</p>
<p >                allowMinus: *!*1,</p>
<p >                alias: \'numeric\',</p>
<p >                digitsOptional: *!*1</p>
<p >            },</p>
<p >            decimal: {</p>
<p >                max: 100,</p>
<p >                digits: 2,</p>
<p >                allowMinus: *!*1,</p>
<p >                alias: \'numeric\',</p>
<p >                digitsOptional: *!*1</p>
<p >            },</p>
<p >        });</p>
<p >        $(<em>function</em>() {</p>
<p >            $(\'.inputmask\').inputmask({</p>
<p >                rightAlign: false,</p>
<p >                showMaskOnFocus: false,</p>
<p >                showMaskOnHover: false,</p>
<p >                removeMaskOnSubmit: true</p>
<p >            });</p>
<p >            $(\'#error-alert, #success-alert, #warning-alert\').fadeTo(5000, 1, <em>function</em>() {</p>
<p >                $(<em>this</em>).slideUp(1000);</p>
<p >            });</p>
<p >        });</p>
<p >        <em>function</em> drawAlert(<em>parent</em>, <em>type</em>, <em>message</em>) {</p>
<p >            <em>let</em> icon *=* \'\';</p>
<p >            <em>let</em> title *=* \'\';</p>
<p >            <em>let</em> element *=* <em>new</em> Date().toLocaleTimeString().replaceAll(\':\', \'\');</p>
<p >            <em>switch</em> (type) {</p>
<p >                <em>case</em> \'danger\':</p>
<p >                    title *=* \'Error\';</p>
<p >                    icon *=* \'times-circle\';</p>
<p >                    <em>break</em>;</p>
<p >                <em>case</em> \'success\':</p>
<p >                    title *=* \'Realizado\';</p>
<p >                    icon *=* \'check-circle\';</p>
<p >                    <em>break</em>;</p>
<p >                <em>case</em> \'warning\':</p>
<p >                    title *=* \'Advertencia\';</p>
<p >                    icon *=* \'exclamation-triangle\';</p>
<p >                    <em>break</em>;</p>
<p >            }</p>
<p >            $(`#${ parent }`).prepend(</p>
<p >                `&lt;div class="alert alert-${ type } alert-dismissible text-justify" id="${ element }"&gt;</p>
<p >                    &lt;button aria-hidden="true" class="close" data-dismiss="alert" type="button"&gt;&times;&lt;/button&gt;</p>
<p >                    &lt;h6&gt;&lt;i class="icon fal fa-${ icon }"&gt;&lt;/i&gt;¡${ title }!&lt;/h6&gt;</p>
<p >                    ${ message }</p>
<p >                &lt;/div&gt;`</p>
<p >            );</p>
<p >            $(`#${ element }`).fadeTo(5000, 1, <em>function</em>() {</p>
<p >                $(<em>this</em>).slideUp(1000);</p>
<p >            });</p>
<p >            window.scrollTo(0, 0);</p>
<p >        }</p>
<p >        $.ajaxSetup({</p>
<p >            headers: {</p>
<p >                \'X-CSRF-TOKEN\': $(\'meta[name="csrf-token"]\').attr(\'content\')</p>
<p >            }</p>
<p >        })</p>
<p >    &lt;/script&gt;</p>
<p >    @yield (\'scripts\')</p>
<p >&lt;/body&gt;</p>
<p >&lt;/html&gt;</p>
<p ><b>Imagen 2.7. Código de la vista layout, archivo layout.blade.php.</b></p>
<p >@extends (\'layout\')</p>
<p >@section (\'title\', \'Seguimiento de Alumnos del Área | Inicio\')</p>
<p >@section (\'content\')</p>
<p >&lt;div <em>class</em>="row"&gt;</p>
<p >    &lt;div <em>class</em>="col-12"&gt;</p>
<p >        @if ($message = session(\'warning\'))</p>
<p >            &lt;div <em>class</em>="alert alert-warning alert-dismissible text-justify" <em>id</em>="warning-alert"&gt;</p>
<p >                &lt;button <em>aria-hidden</em>="true" <em>class</em>="close" <em>data-dismiss</em>="alert" <em>type</em>="button"&gt;&times;&lt;/button&gt;</p>
<p >                &lt;h6&gt;&lt;i <em>class</em>="icon fal fa-exclamation-triangle"&gt;&lt;/i&gt;¡Advertencia!&lt;/h6&gt;</p>
<p >                {{ $message }}</p>
<p >            &lt;/div&gt;</p>
<p >        @endif</p>
<p >        &lt;div <em>class</em>="card card-outline card-reflex-blue"&gt;</p>
<p >            &lt;div <em>class</em>="card-header"&gt;</p>
<p >                &lt;h3 <em>class</em>="card-title"&gt;Bienvenido&lt;/h3&gt;</p>
<p >                &lt;div <em>class</em>="card-tools"&gt;</p>
<p >                    &lt;button <em>class</em>="btn btn-tool" <em>data-card-widget</em>="collapse" <em>title</em>="Minimizar" <em>type</em>="button"&gt;</p>
<p >                        &lt;i <em>class</em>="fal fa-minus"&gt;&lt;/i&gt;</p>
<p >                    &lt;/button&gt;</p>
<p >                    &lt;button <em>class</em>="btn btn-tool" <em>data-card-widget</em>="remove" <em>title</em>="Cerrar" <em>type</em>="button"&gt;</p>
<p >                        &lt;i <em>class</em>="fal fa-times"&gt;&lt;/i&gt;</p>
<p >                    &lt;/button&gt;</p>
<p >                &lt;/div&gt;</p>
<p >            &lt;/div&gt;</p>
<p >            &lt;div <em>class</em>="card-body"&gt;</p>
<p >                Bienvenido.</p>
<p >            &lt;/div&gt;</p>
<p >        &lt;/div&gt;</p>
<p >    &lt;/div&gt;</p>
<p >&lt;/div&gt;</p>
<p >@endsection</p>
<p ><b>Imagen 2.8. Código de la vista welcome, archivo welcome.blade.php.</b></p>
<p > &lt;div <em>class</em>="dropdown-menu dropdown-menu-lg dropdown-menu-right"&gt;</p>
<p >                        *&lt;!-- ----------------------------------------------------------------------------------------------------------------------- --&gt;*</p>
<p >                        &lt;a <em>id</em>="navbarDropdown" <em>class</em>="dropdown-item dropdown-header" <em>href</em>="#" <em>role</em>="button" <em>data-bs-toggle</em>="dropdown" <em>aria-haspopup</em>="true" <em>aria-expanded</em>="false" <em>v-pre</em>&gt;</p>
<p >                            {{ Auth::user()-&gt;name }}</p>
<p >                        &lt;/a&gt;</p>
<p >                        *&lt;!-- ----------------------------------------------------------------------------------------------------------------------- --&gt;*</p>
<p >                        &lt;div <em>class</em>="dropdown-divider"&gt;&lt;/div&gt;</p>
<p >                        &lt;form <em>action</em>="{{ route(\'logout\') }}" <em>autocomplete</em>="off" <em>method</em>="post"&gt;</p>
<p >                            @csrf</p>
<p >                            &lt;a <em>class</em>="dropdown-item" <em>href</em>="javascript:void(0)" <em>onclick</em>="event.preventDefault(); *this*.closest(\'form\').submit();"&gt;</p>
<p >                                &lt;i <em>class</em>="fal fa-sign-out mr-2"&gt;&lt;/i&gt;Cerrar Sesión</p>
<p >                            &lt;/a&gt;</p>
<p >                        &lt;/form&gt;</p>
<p >                        &lt;div <em>class</em>="dropdown-divider"&gt;&lt;/div&gt;</p>
<p >                        *&lt;!-- ----------------------------------------------------------------------------------------------------------------- --&gt;*</p>
<p >                        &lt;/form&gt;</p>
<p >                    &lt;/div&gt;</p>
<p ><b>Imagen 3. Código dropdown logout, archivo layout.blade.php.</b></p>
<p >![Text Description automatically generated with medium confidence]</p>
<p ><b>Imagen 3.1. Función a la que va la ruta de logout, archivo LoginController.php.</b></p>
<p >[1]: docs/media/media/image1.jpg {width="3.2090277777777776in" height="1.5520833333333333in"}</p>
<p >[Graphical user interface, text, application Description automatically generated]: docs/media/media/image2.png {width="6.1375in" height="3.61875in"} [6]: docs/media/media/image3.png {width="6.1375in" height="3.182638888888889in"} [Graphical user interface Description automatically generated with medium confidence]: docs/media/media/image4.png {width="6.1375in" height="0.7333333333333333in"} [A picture containing shape Description automatically generated]: docs/media/media/image5.png {width="6.1375in" height="0.8604166666666667in"} [7]: docs/media/media/image6.png {width="6.1375in" height="4.101388888888889in"} [Graphical user interface, application Description automatically generated]: docs/media/media/image7.png {width="5.535701006124235in" height="3.911570428696413in"} [8]: docs/media/media/image8.png {width="3.2966633858267715in" height="3.528675634295713in"} [Graphical user interface, text, application, email Description automatically generated]: docs/media/media/image9.png {width="3.578601268591426in" height="2.7982458442694664in"} [10]: docs/media/media/image10.png {width="6.1375in" height="0.7208333333333333in"} [11]: docs/media/media/image11.png {width="6.1375in" height="0.5340277777777778in"} [Shape Description automatically generated with low confidence]: docs/media/media/image12.png {width="6.1375in" height="0.5611111111111111in"} [12]: docs/media/media/image13.png {width="6.1375in" height="2.9145833333333333in"} [13]: docs/media/media/image14.png {width="6.1375in" height="0.5590277777777778in"} [14]: docs/media/media/image15.png {width="6.1375in" height="0.5916666666666667in"} [Text Description automatically generated]: docs/media/media/image16.png {width="6.1375in" height="5.275in"} [15]: docs/media/media/image17.png {width="6.1375in" height="2.577777777777778in"} [16]: docs/media/media/image18.png {width="4.531882108486439in" height="0.39588910761154855in"} [17]: docs/media/media/image19.png {width="5.854983595800525in" height="1.5835542432195975in"} [A screenshot of a computer Description automatically generated with medium confidence]: docs/media/media/image20.png {width="6.1375in" height="0.8006944444444445in"} [18]: docs/media/media/image21.png {width="6.1375in" height="1.5055555555555555in"} [19]: docs/media/media/image22.png {width="6.1375in" height="2.598611111111111in"} [20]: docs/media/media/image23.png {width="6.1375in" height="1.3020833333333333in"} [Graphical user interface, text, chat or text message Description automatically generated]: docs/media/media/image24.png {width="6.1375in" height="2.060416666666667in"} [21]: docs/media/media/image25.png {width="6.1375in" height="0.9506944444444444in"} [22]: docs/media/media/image26.png {width="6.1375in" height="1.2847222222222223in"} [23]: docs/media/media/image27.png {width="6.1375in" height="0.575in"} [24]: docs/media/media/image27.png {width="6.1375in" height="0.65in"} [25]: docs/media/media/image28.png {width="6.1375in" height="0.9006944444444445in"} [26]: docs/media/media/image29.png {width="6.1375in" height="1.2277777777777779in"} [Text Description automatically generated with medium confidence]: docs/media/media/image30.png {width="6.1375in" height="1.2256944444444444in"} </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
